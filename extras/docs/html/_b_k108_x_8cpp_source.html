<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PU2CLR BK108X Arduino Library: BK108X/src/BK108X.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">PU2CLR BK108X Arduino Library<span id="projectnumber">&#160;1.0.2</span>
   </div>
   <div id="projectbrief">This is an Arduino Library to control the BK108X device</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_b_k108_x_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">BK108X.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="_b_k108_x_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">    2</span><span class="comment"> * @mainpage BK108X Arduino Library implementation</span></div>
<div class="line"><span class="lineno">    3</span><span class="comment"> * @details BK108X Arduino Library implementation. This is an Arduino library for the BK108X, BROADCAST RECEIVER.</span></div>
<div class="line"><span class="lineno">    4</span><span class="comment"> * @details This is an Arduino library for the BK1086 and BK1088 DSP BROADCAST RECEIVER.&lt;br&gt;</span></div>
<div class="line"><span class="lineno">    5</span><span class="comment"> * @details It works with I2C protocol and can provide an easier interface for controlling the BK1086/88 devices.&lt;br&gt;</span></div>
<div class="line"><span class="lineno">    6</span><span class="comment"> * @details This library is based on the Document: BEKEN - BK1086/88 - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3.</span></div>
<div class="line"><span class="lineno">    7</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">    8</span><span class="comment"> * __THIS LIBRARY IS UNDER CONSTRUCTION.....___</span></div>
<div class="line"><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   10</span><span class="comment"> * This library can be freely distributed using the MIT Free Software model.</span></div>
<div class="line"><span class="lineno">   11</span><span class="comment"> * Copyright (c) 2020-2003 Ricardo Lima Caratti.</span></div>
<div class="line"><span class="lineno">   12</span><span class="comment"> * Contact: pu2clr@gmail.com</span></div>
<div class="line"><span class="lineno">   13</span><span class="comment"> */</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&lt;</span><span class="preprocessor">BK108X</span><span class="preprocessor">.</span><span class="preprocessor">h</span><span class="preprocessor">&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&lt;</span><span class="preprocessor">Wire</span><span class="preprocessor">.</span><span class="preprocessor">h</span><span class="preprocessor">&gt;</span> <span class="comment">// This library is not used to communicate wwith BK108X family device. It is used to check I2C bus.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">   19</span><span class="comment"> * @defgroup GA02 BEKEN I2C BUS</span></div>
<div class="line"><span class="lineno">   20</span><span class="comment"> * @section GA02 I2C</span></div>
<div class="line"><span class="lineno">   21</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   22</span><span class="comment"> * @brief About I2C Address on BK1086/88 and Arduino platform</span></div>
<div class="line"><span class="lineno">   23</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   24</span><span class="comment"> * The BK1086/88 Datasheet says that the I2C buss address is 0x80. However, the Wire (I2C) Arduino library does not find</span></div>
<div class="line"><span class="lineno">   25</span><span class="comment"> * the device on 0x80. Actually the Arduino finds the device on 0x40.</span></div>
<div class="line"><span class="lineno">   26</span><span class="comment"> * This must be due to the internal conversion of the address from 8 bits to 7 bits. (0x80 = 0b10000000; 0x40 = 0b01000000)</span></div>
<div class="line"><span class="lineno">   27</span><span class="comment"> * After a few unsuccessful attempts at using the Arduino I2C library, I decided to write the necessary I2C routines to deal</span></div>
<div class="line"><span class="lineno">   28</span><span class="comment"> * with BK1086/88 device.</span></div>
<div class="line"><span class="lineno">   29</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   30</span><span class="comment"> * @see setI2C, i2cInit, i2cStart, i2cEndTransaction(), i2cAck, i2cNack, i2cReceiveAck, i2cWriteByte, i2cReadByte, writeRegister, readRegister</span></div>
<div class="line"><span class="lineno">   31</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   32</span><span class="comment"> * IMPORTANT:</span></div>
<div class="line"><span class="lineno">   33</span><span class="comment"> * For stable communication, the rising edge time of SCLK should be less than 200ns.</span></div>
<div class="line"><span class="lineno">   34</span><span class="comment"> */</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">   37</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">   38</span><span class="comment"> * @brief Sets I2C bus address</span></div>
<div class="line"><span class="lineno">   39</span><span class="comment"> * @details Useful if some release of BEKEN device is different of 0x80.</span></div>
<div class="line"><span class="lineno">   40</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   41</span><span class="comment"> * @param i2c_addr</span></div>
<div class="line"><span class="lineno">   42</span><span class="comment"> */</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="group___g_a02.html#gabb521f2af588ce1c94755bd2525f32c9">   43</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#gabb521f2af588ce1c94755bd2525f32c9">setI2C</a>(uint8_t i2c_addr)</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>{</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <span class="keyword">this</span>-&gt;deviceAddress = i2c_addr;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>}</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">   49</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">   50</span><span class="comment"> * @brief Sets the MCU pins connected to the I2C bus</span></div>
<div class="line"><span class="lineno">   51</span><span class="comment"> * @details Configures the I2C bus for BK108X</span></div>
<div class="line"><span class="lineno">   52</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">   53</span><span class="comment"> * @param pin_sdio SDA/SDIO MCU/Arduino pin</span></div>
<div class="line"><span class="lineno">   54</span><span class="comment"> * @param pin_sclk CLK/SCLK MCU/Arduino pin</span></div>
<div class="line"><span class="lineno">   55</span><span class="comment"> */</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">   56</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">i2cInit</a>(<span class="keywordtype">int</span> pin_sdio, <span class="keywordtype">int</span> pin_sclk)</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>{</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="keyword">this</span>-&gt;pin_sdio = pin_sdio;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keyword">this</span>-&gt;pin_sclk = pin_sclk;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>}</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">   63</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">   64</span><span class="comment"> * @brief Starts the I2C bus transaction</span></div>
<div class="line"><span class="lineno">   65</span><span class="comment"> */</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">   66</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">i2cBeginTransaction</a>()</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>{</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    pinMode(<span class="keyword">this</span>-&gt;pin_sdio, OUTPUT);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    pinMode(<span class="keyword">this</span>-&gt;pin_sclk, OUTPUT);</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, LOW);</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>}</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">   82</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">   83</span><span class="comment"> * @brief Finish the I2C bus  transaction</span></div>
<div class="line"><span class="lineno">   84</span><span class="comment"> */</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">   85</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">i2cEndTransaction</a>()</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>{</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, LOW);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>}</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">   99</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  100</span><span class="comment"> * @brief Sends Acknowledge (ACK)</span></div>
<div class="line"><span class="lineno">  101</span><span class="comment"> * @details Each byte of data (including the address byte) have to be followed by one ACK bit from the receiver.</span></div>
<div class="line"><span class="lineno">  102</span><span class="comment"> * @details The ACK bit allows the receiver to communicate to the transmitter.</span></div>
<div class="line"><span class="lineno">  103</span><span class="comment"> * @see https://www.ti.com/lit/an/slva704/slva704.pdf</span></div>
<div class="line"><span class="lineno">  104</span><span class="comment"> */</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">  105</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">i2cAck</a>()</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>{</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, LOW);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>}</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  117</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  118</span><span class="comment"> * @brief Sends Not Acknowledge (ACK)</span></div>
<div class="line"><span class="lineno">  119</span><span class="comment"> * @see https://www.ti.com/lit/an/slva704/slva704.pdf</span></div>
<div class="line"><span class="lineno">  120</span><span class="comment"> */</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">  121</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">i2cNack</a>()</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>{</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>}</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  134</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  135</span><span class="comment"> * @brief Gets Acknowledge (ACK)</span></div>
<div class="line"><span class="lineno">  136</span><span class="comment"> * @see https://www.ti.com/lit/an/slva704/slva704.pdf</span></div>
<div class="line"><span class="lineno">  137</span><span class="comment"> * @return ack value</span></div>
<div class="line"><span class="lineno">  138</span><span class="comment"> */</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">  139</a></span><a class="code hl_function" href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">uint8_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">i2cReceiveAck</a>()</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>{</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    uint8_t ack;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    pinMode(pin_sdio, INPUT);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    ack = digitalRead(<span class="keyword">this</span>-&gt;pin_sdio);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keywordflow">return</span> ack;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>}</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  157</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  158</span><span class="comment"> * @brief Sends a Byte to the slave device</span></div>
<div class="line"><span class="lineno">  159</span><span class="comment"> * @param data to be sent to the slave device</span></div>
<div class="line"><span class="lineno">  160</span><span class="comment"> */</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga9f97140ef586e3fbf52b482bfae94d9c">  161</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#ga9f97140ef586e3fbf52b482bfae94d9c">i2cWriteByte</a>(uint8_t data)</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++)</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, (<span class="keywordtype">bool</span>)(data &amp; <span class="keyword">this</span>-&gt;deviceAddress));</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        delayMicroseconds(1);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        delayMicroseconds(1);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        data = data &lt;&lt; 1;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>}</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  180</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  181</span><span class="comment"> * @brief Gets a Byte from the slave device</span></div>
<div class="line"><span class="lineno">  182</span><span class="comment"> * @return value read from the device</span></div>
<div class="line"><span class="lineno">  183</span><span class="comment"> */</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">  184</a></span><a class="code hl_function" href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">uint8_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">i2cReadByte</a>()</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>{</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    uint8_t value = 0;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    pinMode(pin_sdio, INPUT);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    delayMicroseconds(1);</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++)</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        value = value &lt;&lt; 1;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        delayMicroseconds(1);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <span class="keywordflow">if</span> (digitalRead(<span class="keyword">this</span>-&gt;pin_sdio))</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            value = value | 1;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        delayMicroseconds(1);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keywordflow">return</span> value;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>}</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  206</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  207</span><span class="comment"> * @brief Sends an array of values to a BK108X given register</span></div>
<div class="line"><span class="lineno">  208</span><span class="comment"> * @param reg register to be written</span></div>
<div class="line"><span class="lineno">  209</span><span class="comment"> * @param value content to be stored into the register</span></div>
<div class="line"><span class="lineno">  210</span><span class="comment"> */</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="group___g_a02.html#gaaa412587cacee78fdb6da296d97c9c74">  211</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#gaaa412587cacee78fdb6da296d97c9c74">writeRegister</a>(uint8_t reg, uint16_t value)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>{</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    word16_to_bytes data;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    data.raw = value;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">-&gt;</a><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">i2cBeginTransaction</a><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">(</a><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">)</a>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="keyword">this</span>-&gt;i2cWriteByte(<span class="keyword">this</span><a class="code hl_variable" href="group___g_a01.html#a91b3171ba5c52f8bbbd54277bbb2bdfe">-&gt;</a><a class="code hl_variable" href="group___g_a01.html#a91b3171ba5c52f8bbbd54277bbb2bdfe">deviceAddress</a>);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    reg = reg &lt;&lt; 1; <span class="comment">// Converts address and sets to write operation</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keyword">this</span>-&gt;i2cWriteByte(reg);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keyword">this</span>-&gt;i2cWriteByte(data.refined.highByte);</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keyword">this</span>-&gt;i2cWriteByte(data.refined.lowByte);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">-&gt;</a><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">i2cEndTransaction</a><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">(</a><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">)</a>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>}</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  235</span><span class="comment"> * @ingroup GA02</span></div>
<div class="line"><span class="lineno">  236</span><span class="comment"> * @brief Gets an array of values from a BK108X given register</span></div>
<div class="line"><span class="lineno">  237</span><span class="comment"> * @param reg register to be read</span></div>
<div class="line"><span class="lineno">  238</span><span class="comment"> * @return register content</span></div>
<div class="line"><span class="lineno">  239</span><span class="comment"> */</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">  240</a></span><a class="code hl_function" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">readRegister</a>(<a class="code hl_function" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">uint8_t</a> <a class="code hl_function" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">reg</a>)</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>{</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    word16_to_bytes data;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">-&gt;</a><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">i2cBeginTransaction</a><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">(</a><a class="code hl_function" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">)</a>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keyword">this</span>-&gt;i2cWriteByte(<span class="keyword">this</span><a class="code hl_variable" href="group___g_a01.html#a91b3171ba5c52f8bbbd54277bbb2bdfe">-&gt;</a><a class="code hl_variable" href="group___g_a01.html#a91b3171ba5c52f8bbbd54277bbb2bdfe">deviceAddress</a>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    reg = (reg &lt;&lt; 1) | 1; <span class="comment">// Converts address and sets to read operation</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="keyword">this</span>-&gt;i2cWriteByte(reg);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    data.refined.highByte = <span class="keyword">this</span>-&gt;i2cReadByte();</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">-&gt;</a><a class="code hl_function" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">i2cAck</a><a class="code hl_function" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">(</a><a class="code hl_function" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">)</a>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    data.refined.lowByte = <span class="keyword">this</span>-&gt;i2cReadByte();</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">-&gt;</a><a class="code hl_function" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">i2cNack</a><a class="code hl_function" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">(</a><a class="code hl_function" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">)</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">-&gt;</a><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">i2cEndTransaction</a><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">(</a><a class="code hl_function" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">)</a>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="keywordflow">return</span> data.raw;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>}</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  265</span><span class="comment"> * @defgroup GA03 Basic Functions</span></div>
<div class="line"><span class="lineno">  266</span><span class="comment"> * @section GA03 Basic</span></div>
<div class="line"><span class="lineno">  267</span><span class="comment"> */</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  270</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  271</span><span class="comment"> * @brief Gets a givens current register content of the device</span></div>
<div class="line"><span class="lineno">  272</span><span class="comment"> * @see shadowRegisters;</span></div>
<div class="line"><span class="lineno">  273</span><span class="comment"> * @param device register address</span></div>
<div class="line"><span class="lineno">  274</span><span class="comment"> * @return the register content (the shadowRegisters array has this content. So, you do not need to use it most of the cases)</span></div>
<div class="line"><span class="lineno">  275</span><span class="comment"> */</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">  276</a></span><a class="code hl_function" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">getRegister</a>(<a class="code hl_function" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">uint8_t</a> <a class="code hl_function" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">reg</a>)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>{</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    uint16_t reg_content;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    reg_content = <span class="keyword">this</span>-&gt;readRegister(reg);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    shadowRegisters[reg] = reg_content; <span class="comment">// Syncs with the shadowRegisters</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keywordflow">return</span> reg_content;                 <span class="comment">// Optional</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>}</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  285</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  286</span><span class="comment"> * @brief   Sets a given value to the device registers</span></div>
<div class="line"><span class="lineno">  287</span><span class="comment"> * @details For write operations, the device acknowledge is followed by an eight bit data word latched internally on rising edges of SCLK. The device acknowledges each byte of data written by driving SDIO low after the next falling SCLK edge, for 1 cycle.</span></div>
<div class="line"><span class="lineno">  288</span><span class="comment"> * @details An internal address counter automatically increments to allow continuous data byte writes, starting with the upper byte of register 02h, followed by the lower byte of register 02h, and onward until the lower byte of the last register is reached. The internal address counter then automatically wraps around to the upper byte of register 00h and proceeds from there until continuous writes end.</span></div>
<div class="line"><span class="lineno">  289</span><span class="comment"> * @details The registers from 0x2 to 0x07 are used to setup the device. This method writes the array  shadowRegisters, elements 8 to 14 (corresponding the registers 0x2 to 0x7 respectively)  into the device. See Device registers map  in BK108X.h file.</span></div>
<div class="line"><span class="lineno">  290</span><span class="comment"> * @details To implement this, a register maping was created to deal with each register structure. For each type of register, there is a reference to the array element.</span></div>
<div class="line"><span class="lineno">  291</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  292</span><span class="comment"> * @see shadowRegisters;</span></div>
<div class="line"><span class="lineno">  293</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  294</span><span class="comment"> * @param device register address</span></div>
<div class="line"><span class="lineno">  295</span><span class="comment"> */</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="group___g_a03.html#gadc64097823fe26425a420270562cfc34">  296</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gadc64097823fe26425a420270562cfc34">setRegister</a>(uint8_t reg, uint16_t value)</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>{</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="keyword">this</span>-&gt;writeRegister(reg, value);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    shadowRegisters[reg] = value; <span class="comment">// Syncs with the shadowRegisters</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    delayMicroseconds(250);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>}</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  304</span><span class="comment"> * @brief Returns the Device Indentifiction</span></div>
<div class="line"><span class="lineno">  305</span><span class="comment"> * @return device id</span></div>
<div class="line"><span class="lineno">  306</span><span class="comment"> */</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">  307</a></span><a class="code hl_function" href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">getDeviceId</a>()</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>{</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">return</span> getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a748ad53bef975af9c1edbcacc58e5be4">REG00</a>);</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>}</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  313</span><span class="comment"> * @brief Returns the Chip Indentifiction</span></div>
<div class="line"><span class="lineno">  314</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  315</span><span class="comment"> * @return IC id</span></div>
<div class="line"><span class="lineno">  316</span><span class="comment"> */</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno"><a class="line" href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">  317</a></span><a class="code hl_function" href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">getChipId</a>()</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>{</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="keywordflow">return</span> getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#afc04faecdab9e0d1751466b6c53fdaf1">REG01</a>);</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>}</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  323</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  324</span><span class="comment"> * @brief  Gets the current status (register 0x0A) content</span></div>
<div class="line"><span class="lineno">  325</span><span class="comment"> * @details You can use this function when you need to get more than one status attribute at once.</span></div>
<div class="line"><span class="lineno">  326</span><span class="comment"> * @details See example code below.</span></div>
<div class="line"><span class="lineno">  327</span><span class="comment"> * @code</span></div>
<div class="line"><span class="lineno">  328</span><span class="comment"> * bk_reg0a status = getStatus();</span></div>
<div class="line"><span class="lineno">  329</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  330</span><span class="comment"> * Serial.println(status.refined.ST);   // Stereo Signal Received Indicator</span></div>
<div class="line"><span class="lineno">  331</span><span class="comment"> * Serial.println(status.refined.RSSI); // Current RSSI value</span></div>
<div class="line"><span class="lineno">  332</span><span class="comment"> * Serial.println(status.refined.RDSR); // RDS Ready Indicator</span></div>
<div class="line"><span class="lineno">  333</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  334</span><span class="comment"> * @endcode</span></div>
<div class="line"><span class="lineno">  335</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  336</span><span class="comment"> * @see getRSSI</span></div>
<div class="line"><span class="lineno">  337</span><span class="comment"> * @see BK1086/88E - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 17.</span></div>
<div class="line"><span class="lineno">  338</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  339</span><span class="comment"> * @return  bk_reg0a data type status register (Register 0Ah. Status2)</span></div>
<div class="line"><span class="lineno">  340</span><span class="comment"> */</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga759a835f25ca7ce2c861cc5b3cf1abb8">  341</a></span>bk_reg0a <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga759a835f25ca7ce2c861cc5b3cf1abb8">getStatus</a>()</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>{</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    bk_reg0a tmp;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    tmp.raw = getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>); <span class="comment">// update the reg0a shadow register</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>}</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  349</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment"> * @brief   Wait STC (Seek/Tune Complete) status becomes 0</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment"> * @details Should be used before processing Tune or Seek.</span></div>
<div class="line"><span class="lineno">  352</span><span class="comment"> * @details The STC bit being cleared indicates that the TUNE or SEEK bits may be set again to start another tune or seek operation. Do not set the TUNE or SEEK bits until the BK108X clears the STC bit.</span></div>
<div class="line"><span class="lineno">  353</span><span class="comment"> */</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">  354</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">waitAndFinishTune</a>()</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>{</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">while</span> (reg0a-&gt;refined.STC == 0)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        delay(10);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="comment">// delay(40);</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>}</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  368</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  369</span><span class="comment"> * @brief Resets the device</span></div>
<div class="line"><span class="lineno">  370</span><span class="comment"> */</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga0479b36a2d6558df557a3ba4a0d07ce2">  371</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga0479b36a2d6558df557a3ba4a0d07ce2">reset</a>()</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>{</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    reg02-&gt;refined.DISABLE = 1;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    reg02-&gt;refined.ENABLE = 0;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    reg02-&gt;refined.DISABLE = 0;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    reg02-&gt;refined.ENABLE = 1;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>}</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  382</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  383</span><span class="comment"> * @brief Powers the receiver on</span></div>
<div class="line"><span class="lineno">  384</span><span class="comment"> * @details Starts the receiver and set default configurations suggested by the BELEN</span></div>
<div class="line"><span class="lineno">  385</span><span class="comment"> * @see BEKEN - BK1086/88 - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; pages 12-21</span></div>
<div class="line"><span class="lineno">  386</span><span class="comment"> * @see setup</span></div>
<div class="line"><span class="lineno">  387</span><span class="comment"> */</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno"><a class="line" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">  388</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">powerUp</a>()</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>{</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="comment">// Starts the mains register with default values suggested by BEKEN.</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="comment">// Turn the receiver on</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    reg02-&gt;raw = 0x0280;            <span class="comment">// Sets to 0 all attributes of the register 0x02 (Power Configuration)</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    reg02-&gt;refined.DISABLE = 0;     <span class="comment">// Power up Disable: 0 = Normal operation</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    reg02-&gt;refined.ENABLE = 1;      <span class="comment">// Power the receiver UP (DISABLE has to be 0)</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw); <span class="comment">// Stores the register 0x02</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, 0x0000); <span class="comment">// Sets to 0 all attributes of the register 0x03 (Channel)</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a88dee04c27a51e335798ab012dccbea1">REG04</a>, 0x60D4); <span class="comment">// 0b0110000011010100</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, 0x37CF); <span class="comment">// 0b0011011111001111</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    reg06-&gt;raw = 0x086F;                          <span class="comment">// Sets to the default value - 0b0000100001101111 -&gt; CLKSEL = 1</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    reg06-&gt;refined.CLKSEL = <span class="keyword">this</span>-&gt;oscillatorType; <span class="comment">// Sets to the clock type selected by the user</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>, reg06-&gt;raw);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a>, 0x0101); <span class="comment">// 0b0000000100000001</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a96f1c217ac648e08bc64dd3b9086612c">REG08</a>, 0xAC90); <span class="comment">// 0b1010110010010000</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a4bfd6b226ed1e9858b3c1e8fc0a4137e">REG10</a>, 0x7B11); <span class="comment">// 0b0111101100010001</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a96ac68e41626933b41138548318e052b">REG11</a>, 0x004A); <span class="comment">// 0b0000000001001010</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a06bf525972f7b47f7683a0c37cfb2a70">REG12</a>, 0x4000); <span class="comment">// 0b0100000000000000</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a2c18d898fc24de24b8731e57c6a1924d">REG13</a>, 0x3E00); <span class="comment">// 0b0011111000000000</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a>, 0xC29A); <span class="comment">// 0b1100001010011010</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a3f7e2fe33fd2114b91fa653ba3fb932b">REG15</a>, 0x79F8); <span class="comment">// 0b0111100111111000</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a7f2f605c029c5c96fb06ecca2933dc67">REG16</a>, 0x4012); <span class="comment">// 0b0100000000010010</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a2d697bfd5ba8d3203a00b1eb40b2bf0f">REG17</a>, 0x0040); <span class="comment">// 0b0000000001000000</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="comment">// setRegister(REG17, 0x0800); // 0b0000100000000000</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac5d858df6fa437b9e2fdd74ed2bb027a">REG18</a>, 0x341C); <span class="comment">// 0b0011010000011100</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a575b918902872d95be6588c9732fd8bd">REG19</a>, 0x0080); <span class="comment">// 0b0000000010000000</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5eeaea32c870a31999643b68ba6c9cdb">REG1A</a>, 0x0000); <span class="comment">// 0</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a8928c3ceb92de4ff29e682dca2faa85e">REG1B</a>, 0x4CA2); <span class="comment">// 0b0100110010100010</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="comment">// 32768 crystal clock (default setup)</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a615ce0ebc819ed8ea5f84d81e9d3c707">REG1C</a>, 0x8820); <span class="comment">// 0b1000100000100000</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a936c7bd27b99a90769f93ec3f004b3e0">REG1D</a>, 0x0200); <span class="comment">// 0b0000001000000000  -&gt;  512</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="comment">// If the setup is not factory default -- The commands below are not working propely</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;oscillatorType != <a class="code hl_define" href="_b_k108_x_8h.html#ad0763fd256db4ec1ecc62f84bbff56e2">OSCILLATOR_TYPE_CRYSTAL</a> || oscillatorFrequency != 32768)</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    {</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>        uint32_t bk_number = (oscillatorFrequency / 512) + 0.5; <span class="comment">// The result is a 18 bit number</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        uint16_t final_result = 0;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        uint16_t aux;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="comment">// Sets the two most significant bits of result (bk_number) to the REG1C [1:0]</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <span class="comment">// reg1c-&gt;refined.FREQ_SEL = 0 // 12MHz test</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        reg1c-&gt;refined.FREQ_SEL =  (bk_number &gt;&gt; 16);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a615ce0ebc819ed8ea5f84d81e9d3c707">REG1C</a>, reg1c-&gt;raw);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        <span class="comment">//The REG1D receives the inverted order of the 16 least significant bits of the bk_number.. The bit order of REG1D is opposite to the calculation result</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        aux = bk_number &amp; 0b001111111111111111;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="comment">// Inverts the bit order of aux;</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; i++)</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        {</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            <span class="keywordflow">if</span> ((aux &amp; (1 &lt;&lt; i)) != 0)</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>                final_result |= 1 &lt;&lt; (15 - i);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        }</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="comment">// setRegister(REG1D, final_result); // It has no effect on the REG1d register.</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a936c7bd27b99a90769f93ec3f004b3e0">REG1D</a>,0x71DA); <span class="comment">// 12MHz test</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    delay(<span class="keyword">this</span>-&gt;maxDelayAfterCrystalOn);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>}</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  454</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  455</span><span class="comment"> * @brief Powers the receiver off</span></div>
<div class="line"><span class="lineno">  456</span><span class="comment"> */</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa3a8958cbfb9cac36c81ed9351b5b857">  457</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gaa3a8958cbfb9cac36c81ed9351b5b857">powerDown</a>()</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>{</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    reg02-&gt;refined.DISABLE = 1;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    reg02-&gt;refined.ENABLE = 0;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    delay(100);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>}</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  466</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  467</span><span class="comment"> * @brief Starts the device</span></div>
<div class="line"><span class="lineno">  468</span><span class="comment"> * @details sets the reset pin, interrupt pins and oscillator type you are using in your project.</span></div>
<div class="line"><span class="lineno">  469</span><span class="comment"> * @details You have to inform at least two parameters: RESET pin and I2C SDA pin of your MCU</span></div>
<div class="line"><span class="lineno">  470</span><span class="comment"> * @param sda_pin MCU SDA/SDIO pin  (ATMEGA328 must be 4)</span></div>
<div class="line"><span class="lineno">  471</span><span class="comment"> * @param sclk_pin MCU SCLK/CLK pin (ATMEGA328 must be 5)</span></div>
<div class="line"><span class="lineno">  472</span><span class="comment"> * @param rdsInterruptPin  // optional. Sets the Interrupt Arduino pin used to RDS function control.</span></div>
<div class="line"><span class="lineno">  473</span><span class="comment"> * @param seekInterruptPin // optional. Sets the Arduino pin used to Seek function control.</span></div>
<div class="line"><span class="lineno">  474</span><span class="comment"> * @param oscillator_type  // optional. Sets the Oscillator type used Crystal (default) or Ref. Clock.</span></div>
<div class="line"><span class="lineno">  475</span><span class="comment"> */</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  477</span><span class="comment">void BK108X::setup(int sda_pin, int sclk_pin, int rdsInterruptPin, int seekInterruptPin, uint8_t oscillator_type, uint16_t maxDelayAfterCrystalOn)</span></div>
<div class="line"><span class="lineno">  478</span><span class="comment">{</span></div>
<div class="line"><span class="lineno">  479</span><span class="comment">    // Configures BEKEN I2C bus</span></div>
<div class="line"><span class="lineno">  480</span><span class="comment">    this-&gt;i2cInit(sda_pin, sclk_pin);</span></div>
<div class="line"><span class="lineno">  481</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  482</span><span class="comment">    if (rdsInterruptPin &gt;= 0)</span></div>
<div class="line"><span class="lineno">  483</span><span class="comment">        this-&gt;rdsInterruptPin = rdsInterruptPin;</span></div>
<div class="line"><span class="lineno">  484</span><span class="comment">    if (seekInterruptPin &gt;= 0)</span></div>
<div class="line"><span class="lineno">  485</span><span class="comment">        this-&gt;seekInterruptPin = seekInterruptPin;</span></div>
<div class="line"><span class="lineno">  486</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  487</span><span class="comment">    this-&gt;oscillatorType = oscillator_type;</span></div>
<div class="line"><span class="lineno">  488</span><span class="comment">    this-&gt;maxDelayAfterCrystalOn = maxDelayAfterCrystalOn;</span></div>
<div class="line"><span class="lineno">  489</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  490</span><span class="comment">    powerUp();</span></div>
<div class="line"><span class="lineno">  491</span><span class="comment">}</span></div>
<div class="line"><span class="lineno">  492</span><span class="comment">*/</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  495</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  496</span><span class="comment"> * @brief Starts the device</span></div>
<div class="line"><span class="lineno">  497</span><span class="comment"> * @details Initiates the divice (similar to the previous setup function)</span></div>
<div class="line"><span class="lineno">  498</span><span class="comment"> * @details This method allows different clock frequencies.</span></div>
<div class="line"><span class="lineno">  499</span><span class="comment"> * @details You have to inform at least two parameters: RESET pin and I2C SDA pin of your MCU</span></div>
<div class="line"><span class="lineno">  500</span><span class="comment"> * @param sda_pin MCU SDA/SDIO pin  (ATMEGA328 must be 4)</span></div>
<div class="line"><span class="lineno">  501</span><span class="comment"> * @param sclk_pin MCU SCLK/CLK pin (ATMEGA328 must be 5)</span></div>
<div class="line"><span class="lineno">  502</span><span class="comment"> * @param oscillator_type  0 = External clock input; 1= Internal oscillator input (default).</span></div>
<div class="line"><span class="lineno">  503</span><span class="comment"> * @param oscillator_frequency from 32768Hz (32.768 KHz) to 34400000Hz (34.4Mhz). Default (32.768 kHz). For frequency less than 4 MHz, it must be multiplier of 32.768KHz.</span></div>
<div class="line"><span class="lineno">  504</span><span class="comment"> */</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno"><a class="line" href="group___g_a03.html#gad1e862acb8dd7f8f121963c97b9e0eed">  505</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gad1e862acb8dd7f8f121963c97b9e0eed">setup</a>(<span class="keywordtype">int</span> sda_pin, <span class="keywordtype">int</span> sclk_pin, uint8_t oscillator_type, uint32_t oscillator_frequency)</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>{</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <span class="comment">// Configures BEKEN I2C bus</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">-&gt;</a><a class="code hl_function" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">i2cInit</a><a class="code hl_function" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">(</a>sda_pin<a class="code hl_function" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">,</a> sclk_pin<a class="code hl_function" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">)</a>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="keyword">this</span>-&gt;oscillatorType = oscillator_type;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="keyword">this</span>-&gt;oscillatorFrequency = oscillator_frequency;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <a class="code hl_function" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">powerUp</a><a class="code hl_function" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">(</a><a class="code hl_function" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">)</a>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>}</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  515</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  516</span><span class="comment"> * @brief Sets the receiver to FM mode</span></div>
<div class="line"><span class="lineno">  517</span><span class="comment"> * @details Configures the receiver on FM mode; Also sets the band limits, defaul frequency and step.</span></div>
<div class="line"><span class="lineno">  518</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  519</span><span class="comment"> * @param minimum_frequency  minimum frequency for the band</span></div>
<div class="line"><span class="lineno">  520</span><span class="comment"> * @param maximum_frequency  maximum frequency for the band</span></div>
<div class="line"><span class="lineno">  521</span><span class="comment"> * @param default_frequency  default freuency</span></div>
<div class="line"><span class="lineno">  522</span><span class="comment"> * @param step  increment and decrement frequency step in KHz (default 10 * 10KHz)</span></div>
<div class="line"><span class="lineno">  523</span><span class="comment"> */</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa6da4291400839ffc68ccff5e1ad7b13">  524</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gaa6da4291400839ffc68ccff5e1ad7b13">setFM</a>(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step)</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>{</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="keyword">this</span>-&gt;currentStep = step;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keyword">this</span>-&gt;currentFrequency = default_frequency;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="keyword">this</span>-&gt;minimumFrequency = minimum_frequency;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keyword">this</span>-&gt;maximumFrequency = maximum_frequency;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="keyword">this</span>-&gt;currentMode = <a class="code hl_define" href="_b_k108_x_8h.html#af1c4cc5f6cdda1dbb699c5be2ff1bd79">BK_MODE_FM</a>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    reg07-&gt;refined.MODE = <a class="code hl_define" href="_b_k108_x_8h.html#af1c4cc5f6cdda1dbb699c5be2ff1bd79">BK_MODE_FM</a>;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a>, reg07-&gt;raw);</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    delay(50);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <span class="comment">// Sets BAND, SPACE and other parameters</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keyword">this</span>-&gt;currentFMBand = reg05-&gt;refined.BAND = 0;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="keyword">this</span>-&gt;currentFMSpace = reg05-&gt;refined.SPACE = 2; <span class="comment">// Space will be always 2 and the tune is controlled by currentStep (multiple of 100)</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    setFrequency(default_frequency);</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>};</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  543</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  544</span><span class="comment"> * @brief Sets the receiver to AM mode</span></div>
<div class="line"><span class="lineno">  545</span><span class="comment"> * @details Configures the receiver on AM mode; Also sets the band limits, defaul frequency and step.</span></div>
<div class="line"><span class="lineno">  546</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  547</span><span class="comment"> * @param minimum_frequency  minimum frequency for the band</span></div>
<div class="line"><span class="lineno">  548</span><span class="comment"> * @param maximum_frequency  maximum frequency for the band</span></div>
<div class="line"><span class="lineno">  549</span><span class="comment"> * @param default_frequency  default freuency</span></div>
<div class="line"><span class="lineno">  550</span><span class="comment"> * @param step  increment and decrement frequency step</span></div>
<div class="line"><span class="lineno">  551</span><span class="comment"> * @param am_space (default 0 = 1kHz). You can control the freqyuency step by using am_space = 0 and just set the step to 1, 5, 9 or 10 kHz.</span></div>
<div class="line"><span class="lineno">  552</span><span class="comment"> *                 This way, you can keep the space always 0</span></div>
<div class="line"><span class="lineno">  553</span><span class="comment"> */</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga334ccbe40fcb5faa9e045288ca606f89">  554</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga334ccbe40fcb5faa9e045288ca606f89">setAM</a>(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step, uint16_t am_space)</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>{</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    <span class="keyword">this</span>-&gt;currentStep = step;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    <span class="keyword">this</span>-&gt;currentFrequency = default_frequency;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    <span class="keyword">this</span>-&gt;minimumFrequency = minimum_frequency;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keyword">this</span>-&gt;maximumFrequency = maximum_frequency;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keyword">this</span>-&gt;currentMode = reg07-&gt;refined.MODE = <a class="code hl_define" href="_b_k108_x_8h.html#a3c6f5bce39c59fae7c4f238107d2d289">BK_MODE_AM</a>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a>, reg07-&gt;raw);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    delay(50);</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    <span class="comment">// Sets BAND, SPACE and other parameters</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="keywordflow">if</span> (minimum_frequency &lt; 520)</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keyword">this</span>-&gt;currentAMBand = reg05-&gt;refined.BAND = 0; <span class="comment">// LW</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (minimum_frequency &lt; 1800)</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <span class="keyword">this</span>-&gt;currentAMBand = reg05-&gt;refined.BAND = 1; <span class="comment">// MW</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        <span class="keyword">this</span>-&gt;currentAMBand = reg05-&gt;refined.BAND = 2; <span class="comment">// SW</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="keyword">this</span>-&gt;currentAMSpace = reg05-&gt;refined.SPACE = am_space; <span class="comment">// Space default value 0 (0=1KHz; 1 = 5KHz; 2=9KHz; 3 = 10KHz)</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="keyword">this</span>-&gt;setFrequency(default_frequency);</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>}</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  580</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  581</span><span class="comment"> * @brief Sets the channel</span></div>
<div class="line"><span class="lineno">  582</span><span class="comment"> * @param channel</span></div>
<div class="line"><span class="lineno">  583</span><span class="comment"> */</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa479240fcad272dc505ae50a6f4369d3">  584</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gaa479240fcad272dc505ae50a6f4369d3">setChannel</a>(uint16_t channel)</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>{</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    reg02-&gt;refined.SEEK = 0;</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span> </div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    reg03-&gt;refined.TUNE = 1;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    reg03-&gt;refined.CHAN = channel;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <span class="comment">// delay(50);</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    <a class="code hl_function" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">waitAndFinishTune</a><a class="code hl_function" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">(</a><a class="code hl_function" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">)</a>;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="keyword">this</span>-&gt;currentChannel = channel;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>}</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  600</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  601</span><span class="comment"> * @brief Sets the FM frequency</span></div>
<div class="line"><span class="lineno">  602</span><span class="comment"> * @details ....</span></div>
<div class="line"><span class="lineno">  603</span><span class="comment"> * @param frequency</span></div>
<div class="line"><span class="lineno">  604</span><span class="comment"> */</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga514242393caa2068d8acb3adec953832">  605</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga514242393caa2068d8acb3adec953832">setFrequency</a>(uint16_t frequency)</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>{</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    uint16_t channel;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentMode == <a class="code hl_define" href="_b_k108_x_8h.html#af1c4cc5f6cdda1dbb699c5be2ff1bd79">BK_MODE_FM</a>)</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        channel = (frequency - <span class="keyword">this</span>-&gt;fmStartBand[<span class="keyword">this</span>-&gt;currentFMBand]) / <span class="keyword">this</span>-&gt;fmSpace[<span class="keyword">this</span>-&gt;currentFMSpace];</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    }</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    {</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        channel = (frequency - <span class="keyword">this</span>-&gt;amStartBand[<span class="keyword">this</span>-&gt;currentAMBand]) / <span class="keyword">this</span>-&gt;amSpace[<span class="keyword">this</span>-&gt;currentAMSpace];</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <span class="keyword">this</span>-&gt;setChannel(channel);</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>}</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span> </div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  622</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  623</span><span class="comment"> * @brief Increments the current frequency</span></div>
<div class="line"><span class="lineno">  624</span><span class="comment"> * @details The increment uses the band space as step.</span></div>
<div class="line"><span class="lineno">  625</span><span class="comment"> */</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno"><a class="line" href="group___g_a03.html#gac0c265a916d7852d7e4977b1835098eb">  626</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gac0c265a916d7852d7e4977b1835098eb">setFrequencyUp</a>()</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>{</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="keyword">this</span>-&gt;currentFrequency += <span class="keyword">this</span>-&gt;currentStep;</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentFrequency &gt; <span class="keyword">this</span>-&gt;maximumFrequency)</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <span class="keyword">this</span>-&gt;currentFrequency = <span class="keyword">this</span>-&gt;minimumFrequency;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    setFrequency(<span class="keyword">this</span>-&gt;currentFrequency);</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>}</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span> </div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  637</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  638</span><span class="comment"> * @brief Decrements the current frequency</span></div>
<div class="line"><span class="lineno">  639</span><span class="comment"> * @details The drecrement uses the band space as step.</span></div>
<div class="line"><span class="lineno">  640</span><span class="comment"> */</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga5bf724e36f2dbdc826c387601e00ace1">  641</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga5bf724e36f2dbdc826c387601e00ace1">setFrequencyDown</a>()</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>{</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="keyword">this</span>-&gt;currentFrequency -= <span class="keyword">this</span>-&gt;currentStep;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentFrequency &lt; <span class="keyword">this</span>-&gt;minimumFrequency)</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="keyword">this</span>-&gt;currentFrequency = <span class="keyword">this</span>-&gt;maximumFrequency;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    setFrequency(<span class="keyword">this</span>-&gt;currentFrequency);</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>}</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span> </div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  652</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  653</span><span class="comment"> * @brief Gets the current frequency.</span></div>
<div class="line"><span class="lineno">  654</span><span class="comment"> * @return uint16_t</span></div>
<div class="line"><span class="lineno">  655</span><span class="comment"> */</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">  656</a></span><a class="code hl_function" href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">getFrequency</a>()</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>{</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keywordflow">return</span> <span class="keyword">this</span>-&gt;currentFrequency;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>}</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  662</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  663</span><span class="comment"> * @brief Gets the current channel.</span></div>
<div class="line"><span class="lineno">  664</span><span class="comment"> * @return uint16_t</span></div>
<div class="line"><span class="lineno">  665</span><span class="comment"> */</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">  666</a></span><a class="code hl_function" href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">getChannel</a>()</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>{</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keywordflow">return</span> <span class="keyword">this</span>-&gt;currentChannel;</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>}</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  672</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  673</span><span class="comment"> * @brief Gets the current channel stored in register 0x0B</span></div>
<div class="line"><span class="lineno">  674</span><span class="comment"> * @details This method is useful to query the current channel during the seek operations.</span></div>
<div class="line"><span class="lineno">  675</span><span class="comment"> * @return uint16_t</span></div>
<div class="line"><span class="lineno">  676</span><span class="comment"> */</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">  677</a></span><a class="code hl_function" href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">getRealChannel</a>()</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>{</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a76c73d8e23848f8d73679450c2d7264b">REG0B</a>);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <span class="keywordflow">return</span> reg0b-&gt;refined.READCHAN;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>}</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  684</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  685</span><span class="comment"> * @brief Gets the frequency based on READCHAN register (0x0B)</span></div>
<div class="line"><span class="lineno">  686</span><span class="comment"> * @details Unlike getFrequency method, this method queries the device.</span></div>
<div class="line"><span class="lineno">  687</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  688</span><span class="comment"> * @return uint16_t</span></div>
<div class="line"><span class="lineno">  689</span><span class="comment"> */</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno"><a class="line" href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">  690</a></span><a class="code hl_function" href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">getRealFrequency</a>()</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>{</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <span class="keywordflow">if</span> (currentMode == <a class="code hl_define" href="_b_k108_x_8h.html#a3c6f5bce39c59fae7c4f238107d2d289">BK_MODE_AM</a>)</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    {</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <span class="keywordflow">return</span> getRealChannel() * <span class="keyword">this</span>-&gt;amSpace[<span class="keyword">this</span>-&gt;currentAMSpace] + <span class="keyword">this</span>-&gt;amStartBand[<span class="keyword">this</span>-&gt;currentAMBand];</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        <span class="keywordflow">return</span> getRealChannel() * <span class="keyword">this</span>-&gt;fmSpace[<span class="keyword">this</span>-&gt;currentFMSpace] + <span class="keyword">this</span>-&gt;fmStartBand[<span class="keyword">this</span>-&gt;currentFMBand];</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    }</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>}</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span> </div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  703</span><span class="comment"> * @todo it is not working properly</span></div>
<div class="line"><span class="lineno">  704</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  705</span><span class="comment"> * @brief Seeks a station via Software</span></div>
<div class="line"><span class="lineno">  706</span><span class="comment"> * @details Seeks a station up or down.</span></div>
<div class="line"><span class="lineno">  707</span><span class="comment"> * @details Seek up or down a station and call a function defined by the user to show the frequency during the seek process.</span></div>
<div class="line"><span class="lineno">  708</span><span class="comment"> * @details Seek begins at the current channel, and goes in the direction specified with the SEEKUP bit. Seek operation stops when a channel is qualified as valid according to the seek parameters, the entire band has been searched (SKMODE = 0), or the upper or lower band limit has been reached (SKMODE = 1).</span></div>
<div class="line"><span class="lineno">  709</span><span class="comment"> * @details The STC bit is set high when the seek operation completes and/or the SF/BL bit is set high if the seek operation was unable to find a channel qualified as valid according to the seek parameters. The STC and SF/BL bits must be set low by setting the SEEK bit low before the next seek or tune may begin.</span></div>
<div class="line"><span class="lineno">  710</span><span class="comment"> * @details Seek performance for 50 kHz channel spacing varies according to RCLK tolerance. Silicon Laboratories recommends 50 ppm RCLK crystal tolerance for 50 kHz seek performance.</span></div>
<div class="line"><span class="lineno">  711</span><span class="comment"> * @details A seek operation may be aborted by setting SEEK = 0.</span></div>
<div class="line"><span class="lineno">  712</span><span class="comment"> * @details It is important to say you have to implement a show frequency function. This function have to get the frequency via getFrequency function.</span></div>
<div class="line"><span class="lineno">  713</span><span class="comment"> * @details Example:</span></div>
<div class="line"><span class="lineno">  714</span><span class="comment"> * @code</span></div>
<div class="line"><span class="lineno">  715</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  716</span><span class="comment"> * BK108X rx;</span></div>
<div class="line"><span class="lineno">  717</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  718</span><span class="comment"> * void showFrequency() {</span></div>
<div class="line"><span class="lineno">  719</span><span class="comment"> *    uint16_t freq = rx.getFrequency();</span></div>
<div class="line"><span class="lineno">  720</span><span class="comment"> *    Serial.print(freq);</span></div>
<div class="line"><span class="lineno">  721</span><span class="comment"> *    Serial.println(&quot;MHz &quot;);</span></div>
<div class="line"><span class="lineno">  722</span><span class="comment"> * }</span></div>
<div class="line"><span class="lineno">  723</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  724</span><span class="comment"> * void loop() {</span></div>
<div class="line"><span class="lineno">  725</span><span class="comment"> *  .</span></div>
<div class="line"><span class="lineno">  726</span><span class="comment"> *  .</span></div>
<div class="line"><span class="lineno">  727</span><span class="comment"> *      rx.seek(BK_SEEK_WRAP, BK_SEEK_UP, showFrequency); // Seek Up</span></div>
<div class="line"><span class="lineno">  728</span><span class="comment"> *  .</span></div>
<div class="line"><span class="lineno">  729</span><span class="comment"> *  .</span></div>
<div class="line"><span class="lineno">  730</span><span class="comment"> * }</span></div>
<div class="line"><span class="lineno">  731</span><span class="comment"> * @endcode</span></div>
<div class="line"><span class="lineno">  732</span><span class="comment"> * @param seek_mode  Seek Mode; 0 = Wrap at the upper or lower band limit and continue seeking (default); 1 = Stop seeking at the upper or lower band limit.</span></div>
<div class="line"><span class="lineno">  733</span><span class="comment"> * @param direction  Seek Direction; 0 = Seek down (default); 1 = Seek up.</span></div>
<div class="line"><span class="lineno">  734</span><span class="comment"> * @param showFunc  function that you have to implement to show the frequency during the seeking process. Set NULL if you do not want to show the progress.</span></div>
<div class="line"><span class="lineno">  735</span><span class="comment"> */</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga137b126f37f177a7c3928c5755d99757">  736</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga137b126f37f177a7c3928c5755d99757">seekSoftware</a>(uint8_t seek_mode, uint8_t direction, <span class="keywordtype">void</span> (*showFunc)())</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>{</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordtype">long</span> max_time = millis(); <span class="comment">// Maximum time seeking a station.</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    <span class="keywordflow">do</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        delay(50);</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        reg02-&gt;refined.SKMODE = seek_mode;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        reg02-&gt;refined.SEEKUP = direction;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        reg02-&gt;refined.SEEK = 1;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        delay(50);</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        <span class="keywordflow">if</span> (showFunc != NULL)</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>            <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            showFunc();</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    } <span class="keywordflow">while</span> ((!reg0a-&gt;refined.STC &amp;&amp; reg0a-&gt;refined.SF_BL) &amp;&amp; (millis() - max_time) &lt; <a class="code hl_define" href="_b_k108_x_8h.html#acc98e8d3badddd21bc528451bb718f82">MAX_SEEK_TIME</a>);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    reg02-&gt;refined.SEEK = 0;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>}</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  767</span><span class="comment"> * @todo make it work.</span></div>
<div class="line"><span class="lineno">  768</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  769</span><span class="comment"> * @brief Seeks a station via hardware functionality</span></div>
<div class="line"><span class="lineno">  770</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  771</span><span class="comment"> * @param seek_mode  Seek Mode; 0 = Wrap at the upper or lower band limit and continue seeking (default); 1 = Stop seeking at the upper or lower band limit.</span></div>
<div class="line"><span class="lineno">  772</span><span class="comment"> * @param direction  Seek Direction; 0 = Seek down (default); 1 = Seek up.</span></div>
<div class="line"><span class="lineno">  773</span><span class="comment"> */</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga0a0067f9c9c50d595bcec8b9157bd957">  774</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga0a0067f9c9c50d595bcec8b9157bd957">seekHardware</a>(uint8_t seek_mode, uint8_t direction, <span class="keywordtype">void</span> (*showFunc)())</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>{</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span> </div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="keywordtype">long</span> max_time = millis(); <span class="comment">// Max time seeking a station.</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <span class="keywordflow">do</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        reg02-&gt;refined.SKMODE = seek_mode;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        reg02-&gt;refined.SEEKUP = direction;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        reg02-&gt;refined.SKAFCRL = 1;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        reg02-&gt;refined.SEEK = 1;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        delay(40);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        <span class="keywordflow">while</span> (reg0a-&gt;refined.STC == 0 &amp;&amp; (millis() - max_time) &lt; <a class="code hl_define" href="_b_k108_x_8h.html#acc98e8d3badddd21bc528451bb718f82">MAX_SEEK_TIME</a>)</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            <span class="keywordflow">if</span> (showFunc != NULL)</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            {</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                showFunc();</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            }</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            delay(40);</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        reg02-&gt;refined.SEEK = 0;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        delay(50);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="keyword">this</span>-&gt;setChannel(<span class="keyword">this</span>-&gt;getRealChannel());</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <span class="keyword">this</span>-&gt;setFrequency(<span class="keyword">this</span>-&gt;currentFrequency);</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span> </div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    } <span class="keywordflow">while</span> (reg0a-&gt;refined.SF_BL != 0 &amp;&amp; (millis() - max_time) &lt; <a class="code hl_define" href="_b_k108_x_8h.html#acc98e8d3badddd21bc528451bb718f82">MAX_SEEK_TIME</a>);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>}</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span> </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  814</span><span class="comment"> * @todo make it work.</span></div>
<div class="line"><span class="lineno">  815</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  816</span><span class="comment"> * @brief Sets RSSI and SNR Seek Threshold</span></div>
<div class="line"><span class="lineno">  817</span><span class="comment"> * @param  rssiValue between 0 and 127</span></div>
<div class="line"><span class="lineno">  818</span><span class="comment"> * @param  snrValue between 0 and 127</span></div>
<div class="line"><span class="lineno">  819</span><span class="comment"> */</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga2d2a246c4d65dfbf93b5660a500c74c3">  820</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga2d2a246c4d65dfbf93b5660a500c74c3">setSeekThreshold</a>(uint8_t rssiValue, uint8_t snrValue)</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>{</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    reg05-&gt;refined.SEEKTH = rssiValue;</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    reg06-&gt;refined.SKSNR = snrValue;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>, reg06-&gt;raw);</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>}</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  830</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  831</span><span class="comment"> * @brief Sets the current band for AM or FM</span></div>
<div class="line"><span class="lineno">  832</span><span class="comment"> * @details Configures the band by setting the Register 05h. System Configuration2</span></div>
<div class="line"><span class="lineno">  833</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  834</span><span class="comment"> * | Band value |  AM / KHz      |  FM / MHz           |</span></div>
<div class="line"><span class="lineno">  835</span><span class="comment"> * | ---------- | -------------- | ------------------- |</span></div>
<div class="line"><span class="lineno">  836</span><span class="comment"> * |    0       | LW - 153~279   | FULL - 64~108       |</span></div>
<div class="line"><span class="lineno">  837</span><span class="comment"> * |    1       | MW - 520~1710  | East Europe 64~76   |</span></div>
<div class="line"><span class="lineno">  838</span><span class="comment"> * |    2       | SW - 2.3~21.85 | Japan 76~91         |</span></div>
<div class="line"><span class="lineno">  839</span><span class="comment"> * |    3       | MW - 522~1710  | Europe 87~108       |</span></div>
<div class="line"><span class="lineno">  840</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  841</span><span class="comment"> * @see BK1086/88E - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 15</span></div>
<div class="line"><span class="lineno">  842</span><span class="comment"> * @param band  the valid values are 0, 1, 2 and 3. See table above.</span></div>
<div class="line"><span class="lineno">  843</span><span class="comment"> */</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span> </div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga528a4c6c6a343c3b7ae95331bb4316ce">  845</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga528a4c6c6a343c3b7ae95331bb4316ce">setBand</a>(uint8_t band)</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>{</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentMode == <a class="code hl_define" href="_b_k108_x_8h.html#a3c6f5bce39c59fae7c4f238107d2d289">BK_MODE_AM</a>)</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <span class="keyword">this</span>-&gt;currentAMBand = band;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        <span class="keyword">this</span>-&gt;currentFMBand = band;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    reg05-&gt;refined.BAND = band;</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>}</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span> </div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  857</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  858</span><span class="comment"> * @brief Sets the Space channel  for AM or FM</span></div>
<div class="line"><span class="lineno">  859</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  860</span><span class="comment"> * | Band value |  AM      | FM        |</span></div>
<div class="line"><span class="lineno">  861</span><span class="comment"> * | ---------- | ---------| --------- |</span></div>
<div class="line"><span class="lineno">  862</span><span class="comment"> * |    0       |  1 KHz  |   10 KHz   |</span></div>
<div class="line"><span class="lineno">  863</span><span class="comment"> * |    1       |  5 KKz  |   50 KHz   |</span></div>
<div class="line"><span class="lineno">  864</span><span class="comment"> * |    2       |  9 KHz  |  100 KHz   |</span></div>
<div class="line"><span class="lineno">  865</span><span class="comment"> * |    3       | 10 KHz  |  200 KHz   |</span></div>
<div class="line"><span class="lineno">  866</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  867</span><span class="comment"> * @see BK1086/88E - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 15</span></div>
<div class="line"><span class="lineno">  868</span><span class="comment"> * @param space valid values 0,1,2 and 3. See table above.</span></div>
<div class="line"><span class="lineno">  869</span><span class="comment"> */</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga0e3272d62ec11f91251569e422cd4c58">  870</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga0e3272d62ec11f91251569e422cd4c58">setSpace</a>(uint8_t space)</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>{</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentMode == <a class="code hl_define" href="_b_k108_x_8h.html#a3c6f5bce39c59fae7c4f238107d2d289">BK_MODE_AM</a>)</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <span class="keyword">this</span>-&gt;currentAMSpace = space;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        <span class="keyword">this</span>-&gt;currentFMSpace = space;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span> </div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    reg05-&gt;refined.SPACE = space;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>}</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span> </div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  882</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  883</span><span class="comment"> * @brief Gets the current Rssi</span></div>
<div class="line"><span class="lineno">  884</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  885</span><span class="comment"> * @return int</span></div>
<div class="line"><span class="lineno">  886</span><span class="comment"> */</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno"><a class="line" href="group___g_a03.html#gad8ecfa1da87d3ca51f735d7f921706bf">  887</a></span><span class="keywordtype">int</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gad8ecfa1da87d3ca51f735d7f921706bf">getRssi</a>()</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>{</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <span class="keywordflow">return</span> reg0a-&gt;refined.RSSI;</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>}</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span> </div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  894</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  895</span><span class="comment"> * @brief Gets the current SNR</span></div>
<div class="line"><span class="lineno">  896</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  897</span><span class="comment"> * @return int  The SNR Value.( in dB)</span></div>
<div class="line"><span class="lineno">  898</span><span class="comment"> */</span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga378780ca51288b4cf94d6820704023fd">  899</a></span><span class="keywordtype">int</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga378780ca51288b4cf94d6820704023fd">getSnr</a>()</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>{</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a48be4d4aa3bde15da7a8145c0f64fd7f">REG09</a>);</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <span class="keywordflow">return</span> reg09-&gt;refined.SNR;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>}</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span> </div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  906</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  907</span><span class="comment"> * @brief Sets the Softmute true or false</span></div>
<div class="line"><span class="lineno">  908</span><span class="comment"> * @details Enable or Disable Soft Mute resource.</span></div>
<div class="line"><span class="lineno">  909</span><span class="comment"> * @param value  TRUE or FALSE</span></div>
<div class="line"><span class="lineno">  910</span><span class="comment"> */</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga65342f0cf9a3ad9582b920f8d084caf8">  911</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga65342f0cf9a3ad9582b920f8d084caf8">setSoftMute</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>{</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    reg02-&gt;refined.DSMUTE = !value; <span class="comment">// Soft mute TRUE/ENABLE means DSMUTE = 0.</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>}</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  918</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  919</span><span class="comment"> * @brief Sets Softmute Attack/Recover Rate.</span></div>
<div class="line"><span class="lineno">  920</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  921</span><span class="comment"> * Soft mute Attack/Recover</span></div>
<div class="line"><span class="lineno">  922</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  923</span><span class="comment"> * | Value | Description |</span></div>
<div class="line"><span class="lineno">  924</span><span class="comment"> * | ----- | ----------- |</span></div>
<div class="line"><span class="lineno">  925</span><span class="comment"> * | 0     | fastest |</span></div>
<div class="line"><span class="lineno">  926</span><span class="comment"> * | 1     | fast    |</span></div>
<div class="line"><span class="lineno">  927</span><span class="comment"> * | 2     | slow    |</span></div>
<div class="line"><span class="lineno">  928</span><span class="comment"> * | 3     | slowest |</span></div>
<div class="line"><span class="lineno">  929</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  930</span><span class="comment"> * @param value  See table above.</span></div>
<div class="line"><span class="lineno">  931</span><span class="comment"> */</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga162198f02a87c3ed6b0fd665719248da">  932</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga162198f02a87c3ed6b0fd665719248da">setSoftMuteAttack</a>(uint8_t value)</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>{</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    reg06-&gt;refined.SMUTER = value;</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>, reg06-&gt;raw);</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>}</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  939</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  940</span><span class="comment"> * @brief Sets  Softmute Attenuation.</span></div>
<div class="line"><span class="lineno">  941</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  942</span><span class="comment"> * Soft mute Attenuation.</span></div>
<div class="line"><span class="lineno">  943</span><span class="comment"> * | Value | Description |</span></div>
<div class="line"><span class="lineno">  944</span><span class="comment"> * | ----- | ----------- |</span></div>
<div class="line"><span class="lineno">  945</span><span class="comment"> * | 0     | fastest |</span></div>
<div class="line"><span class="lineno">  946</span><span class="comment"> * | 1     | fast    |</span></div>
<div class="line"><span class="lineno">  947</span><span class="comment"> * | 2     | slow    |</span></div>
<div class="line"><span class="lineno">  948</span><span class="comment"> * | 3     | slowest |</span></div>
<div class="line"><span class="lineno">  949</span><span class="comment"> * @param value See table above</span></div>
<div class="line"><span class="lineno">  950</span><span class="comment"> */</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga966d4542de0422959750044633c5217a">  951</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga966d4542de0422959750044633c5217a">setSoftMuteAttenuation</a>(uint8_t value)</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>{</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    reg06-&gt;refined.SMUTEA = value;</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>, reg06-&gt;raw);</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>}</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span> </div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  958</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  959</span><span class="comment"> * @brief Set the Mute Threshold based on RSSI and SNR</span></div>
<div class="line"><span class="lineno">  960</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  961</span><span class="comment"> * @see BK1086/88 - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 19; Register 0x14 (Boot Configuration5)</span></div>
<div class="line"><span class="lineno">  962</span><span class="comment"> * @param rssi  The Mute Threshold Based on RSSI (default 26)</span></div>
<div class="line"><span class="lineno">  963</span><span class="comment"> * @param snr   The Mute Threshold Based on SNR  (default 5)</span></div>
<div class="line"><span class="lineno">  964</span><span class="comment"> */</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaeda6bee33d55a04e09a76408812f13cb">  965</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gaeda6bee33d55a04e09a76408812f13cb">setMuteThreshold</a>(uint8_t rssi, uint8_t snr)</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>{</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    reg14-&gt;refined.RSSIMTH = rssi;</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    reg14-&gt;refined.SNRMTH = snr;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a>, reg14-&gt;raw);</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>}</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  973</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  974</span><span class="comment"> * @brief Disable or Enable soft mute when seeking</span></div>
<div class="line"><span class="lineno">  975</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  976</span><span class="comment"> * @param value If true, enable mute during the seek;</span></div>
<div class="line"><span class="lineno">  977</span><span class="comment"> */</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno"><a class="line" href="group___g_a03.html#gafce9573202cce9a06869bead65fe9685">  978</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gafce9573202cce9a06869bead65fe9685">setSeekMute</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>{</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    reg14-&gt;refined.SKMUTE = value;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a>, reg14-&gt;raw);</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>}</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  985</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  986</span><span class="comment"> * @brief Disable or Enable soft mute when AFCRL is high</span></div>
<div class="line"><span class="lineno">  987</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno">  988</span><span class="comment"> * @param value  If true, enable soft mute when AFCRL is high</span></div>
<div class="line"><span class="lineno">  989</span><span class="comment"> */</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga6d56b06e4420c573e56dbdd36ed18ed6">  990</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga6d56b06e4420c573e56dbdd36ed18ed6">setAfcMute</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>{</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    reg14-&gt;refined.AFCMUTE = value;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a>, reg14-&gt;raw);</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>}</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span> </div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno">  997</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno">  998</span><span class="comment"> * @brief Sets the Mute true or false</span></div>
<div class="line"><span class="lineno">  999</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="comment"> * @param left left channel (TRUE = MUTE/ FALSE = UNMUTE)</span></div>
<div class="line"><span class="lineno"> 1001</span><span class="comment"> * @param left right channel (TRUE = MUTE / FALSE = UMUTE)</span></div>
<div class="line"><span class="lineno"> 1002</span><span class="comment"> */</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc"> 1003</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">setAudioMute</a>(<span class="keywordtype">bool</span> left, <span class="keywordtype">bool</span> right)</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>{</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    reg02-&gt;refined.MUTEL = left;</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    reg02-&gt;refined.MUTER = right;</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>}</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span> </div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="comment"> * @brief Sets the Mute true or false</span></div>
<div class="line"><span class="lineno"> 1013</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1014</span><span class="comment"> * @param value left and right channels (TRUE = MUTE/ FALSE = UNMUTE)</span></div>
<div class="line"><span class="lineno"> 1015</span><span class="comment"> */</span></div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga62f9f2a5d84230b5f62be82d5514e86f"> 1016</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga62f9f2a5d84230b5f62be82d5514e86f">setAudioMute</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>{</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>    <span class="keyword">this</span><a class="code hl_function" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">-&gt;</a><a class="code hl_function" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">setAudioMute</a><a class="code hl_function" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">(</a>value<a class="code hl_function" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">,</a> value<a class="code hl_function" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">)</a>;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>}</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span> </div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1022</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1023</span><span class="comment"> * @brief Sets the Mono true or false (stereo)</span></div>
<div class="line"><span class="lineno"> 1024</span><span class="comment"> * @details if TRUE, force mono; else force stereo</span></div>
<div class="line"><span class="lineno"> 1025</span><span class="comment"> * @param value TRUE or FALSE</span></div>
<div class="line"><span class="lineno"> 1026</span><span class="comment"> */</span></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"><a class="line" href="group___g_a03.html#gabc3b9000cc833cfbec7cf1edc03ef674"> 1027</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gabc3b9000cc833cfbec7cf1edc03ef674">setMono</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>{</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    reg02-&gt;refined.MONO = value;</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    reg02-&gt;refined.STEREO = !value;</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>}</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1036</span><span class="comment"> * @brief Checks stereo / mono status</span></div>
<div class="line"><span class="lineno"> 1037</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1038</span><span class="comment"> * @see getStatus</span></div>
<div class="line"><span class="lineno"> 1039</span><span class="comment"> * @param value TRUE if stereo</span></div>
<div class="line"><span class="lineno"> 1040</span><span class="comment"> */</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga83b36ff59c25663df3194c49747e6fe7"> 1041</a></span><span class="keywordtype">bool</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga83b36ff59c25663df3194c49747e6fe7">isStereo</a>()</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>{</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    <span class="keywordflow">return</span> reg0a-&gt;refined.STEN;</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>}</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span> </div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1048</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1049</span><span class="comment"> * @brief Sets the audio volume level</span></div>
<div class="line"><span class="lineno"> 1050</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1051</span><span class="comment"> * @param value  0 to 31 (if 0, mutes the audio)</span></div>
<div class="line"><span class="lineno"> 1052</span><span class="comment"> */</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa91f9b57fb80f9411f97755d15e7d808"> 1053</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gaa91f9b57fb80f9411f97755d15e7d808">setVolume</a>(uint8_t value)</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>{</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <span class="keywordflow">if</span> (value &gt; 31)</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <span class="keyword">this</span>-&gt;currentVolume = value;</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <span class="comment">// reg05 is a shadow register and has the last value read or written from/to the internal device register</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    reg05-&gt;refined.VOLUME = value;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span> </div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>}</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span> </div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="comment"> * @brief Gets the current audio volume level</span></div>
<div class="line"><span class="lineno"> 1067</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="comment"> * @return uint8_t  0 to 15</span></div>
<div class="line"><span class="lineno"> 1069</span><span class="comment"> */</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"><a class="line" href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8"> 1070</a></span><a class="code hl_function" href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">uint8_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">getVolume</a>()</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>{</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <span class="keywordflow">return</span> <span class="keyword">this</span>-&gt;currentVolume;</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>}</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span> </div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1076</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1077</span><span class="comment"> * @brief Increments the audio volume</span></div>
<div class="line"><span class="lineno"> 1078</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1079</span><span class="comment"> */</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga89438602c507ba477aaa626999210b7e"> 1080</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#ga89438602c507ba477aaa626999210b7e">setVolumeUp</a>()</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>{</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentVolume &lt; 31)</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>        <span class="keyword">this</span>-&gt;currentVolume++;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        setVolume(<span class="keyword">this</span>-&gt;currentVolume);</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>    }</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>}</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span> </div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1090</span><span class="comment"> * @ingroup GA03</span></div>
<div class="line"><span class="lineno"> 1091</span><span class="comment"> * @brief Decrements the audio volume</span></div>
<div class="line"><span class="lineno"> 1092</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1093</span><span class="comment"> */</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"><a class="line" href="group___g_a03.html#gac2cf423a3eeee3213a3c7c73a8316f8a"> 1094</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a03.html#gac2cf423a3eeee3213a3c7c73a8316f8a">setVolumeDown</a>()</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>{</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentVolume &gt; 0)</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    {</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>        <span class="keyword">this</span>-&gt;currentVolume--;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        setVolume(<span class="keyword">this</span>-&gt;currentVolume);</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    }</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>}</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span> </div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="comment"> * @defgroup GA04 RDS Functions</span></div>
<div class="line"><span class="lineno"> 1105</span><span class="comment"> * @section GA04 RDS/RBDS</span></div>
<div class="line"><span class="lineno"> 1106</span><span class="comment"> */</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span> </div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1109</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1110</span><span class="comment"> * @brief Gets the RDS registers information</span></div>
<div class="line"><span class="lineno"> 1111</span><span class="comment"> * @details Gets the value of the registers from 0x0A to 0x0F</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="comment"> * @details This function also updates the value of shadowRegisters[0];</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="comment"> * @return bk_reg0a</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="comment"> */</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"><a class="line" href="group___g_a04.html#gade944541df0205f7a7bb6335ae25c211"> 1115</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gade944541df0205f7a7bb6335ae25c211">getRdsStatus</a>()</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>{</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>}</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1120</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1121</span><span class="comment"> * @brief Sets the Rds Mode Standard or Verbose</span></div>
<div class="line"><span class="lineno"> 1122</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1123</span><span class="comment"> * @param rds_mode  0 = Standard (default); 1 = Verbose</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="comment"> */</span></div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"><a class="line" href="group___g_a04.html#gadb237cc8ad191804af5de514a5610fd9"> 1125</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gadb237cc8ad191804af5de514a5610fd9">setRdsMode</a>(uint8_t rds_mode)</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>{</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>    <span class="keyword">this</span>-&gt;rds_mode = rds_mode;</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>}</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span> </div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1132</span><span class="comment"> * @brief Sets the RDS operation</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="comment"> * @details Enable or Disable the RDS</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="comment"> * @param true = turns the RDS ON; false  = turns the RDS OFF</span></div>
<div class="line"><span class="lineno"> 1136</span><span class="comment"> */</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"><a class="line" href="group___g_a04.html#gadc61ebb78e49b6bfc9aa6eadc98363a5"> 1137</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gadc61ebb78e49b6bfc9aa6eadc98363a5">setRds</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>{</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    reg04-&gt;refined.RDSEN = value;</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    setRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a88dee04c27a51e335798ab012dccbea1">REG04</a>, reg04-&gt;raw);</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>}</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span> </div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1144</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1145</span><span class="comment"> * @brief Returns true if RDS Ready</span></div>
<div class="line"><span class="lineno"> 1146</span><span class="comment"> * @details Read addresses 0Ah, 0Ch,  and check the bit RDSR.</span></div>
<div class="line"><span class="lineno"> 1147</span><span class="comment"> * @details If in verbose mode, the BLERA bits indicate how many errors were corrected in block A. If BLERA indicates 6 or more errors, the data in RDSA should be discarded.</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="comment"> * @details When using the polling method, it is best not to poll continuously. The data will appear in intervals of ~88 ms and the RDSR indicator will be available for at least 40 ms, so a polling rate of 40 ms or less should be sufficient.</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="comment"> * @details ATTENTION: You must call this function before calling any RDS function to process data</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="comment"> * @return true or false</span></div>
<div class="line"><span class="lineno"> 1151</span><span class="comment"> */</span></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307"> 1152</a></span><span class="keywordtype">bool</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">getRdsReady</a>()</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>{</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <span class="keywordflow">if</span> (!reg0a-&gt;refined.RDSR)</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a0e3b6e600782d453f87223f87784c54d">REG0C</a>); <span class="comment">// The First Register of RDS - Block A</span></div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a41b7a4f7b9e629eb87dba4152995a616">REG0D</a>); <span class="comment">// The second register of RDS  - Block B</span></div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a1a5322c7bc447986d2d3b4d13de95315">REG0E</a>); <span class="comment">// The third register of RDS  - Block C</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    getRegister(<a class="code hl_define" href="_b_k108_x_8h.html#a949846d6974a39c871614c2f15ee0691">REG0F</a>); <span class="comment">// The third register of RDS - Bloco D</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>};</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span> </div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1165</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1166</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1167</span><span class="comment"> * @brief Returns the current Text Flag A/B</span></div>
<div class="line"><span class="lineno"> 1168</span><span class="comment"> * @details You must call getRdsReady before calling this function</span></div>
<div class="line"><span class="lineno"> 1169</span><span class="comment"> * @return uint8_t current Text Flag A/B</span></div>
<div class="line"><span class="lineno"> 1170</span><span class="comment"> */</span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga8be7187079334991c12934087e7d826c"> 1171</a></span><a class="code hl_function" href="group___g_a04.html#ga8be7187079334991c12934087e7d826c">uint8_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga8be7187079334991c12934087e7d826c">getRdsFlagAB</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>{</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    bk_rds_blockb blkb;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    blkb.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    <span class="keywordflow">return</span> blkb.refined.textABFlag;</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>}</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span> </div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1179</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1180</span><span class="comment"> * @brief Return the group type - Gets the Group Type (extracted from the Block B)</span></div>
<div class="line"><span class="lineno"> 1181</span><span class="comment"> * @details You must call getRdsReady before calling this function</span></div>
<div class="line"><span class="lineno"> 1182</span><span class="comment"> * @return uint16_t</span></div>
<div class="line"><span class="lineno"> 1183</span><span class="comment"> */</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758"> 1184</a></span><a class="code hl_function" href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758">uint16_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758">getRdsGroupType</a>()</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>{</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    bk_rds_blockb b;</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    b.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>    <span class="keywordflow">return</span> b.refined.groupType;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>}</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span> </div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1192</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1193</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1194</span><span class="comment"> * @brief Gets the version code (extracted from the Block B)</span></div>
<div class="line"><span class="lineno"> 1195</span><span class="comment"> * @details You must call getRdsReady before calling this function</span></div>
<div class="line"><span class="lineno"> 1196</span><span class="comment"> * @returns  0=A or 1=B</span></div>
<div class="line"><span class="lineno"> 1197</span><span class="comment"> */</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6"> 1198</a></span><a class="code hl_function" href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6">uint8_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6">getRdsVersionCode</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>{</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    bk_rds_blockb b;</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>    b.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <span class="keywordflow">return</span> b.refined.versionCode;</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>}</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span> </div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1206</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1207</span><span class="comment"> * @brief Returns the Program Type (extracted from the Block B)</span></div>
<div class="line"><span class="lineno"> 1208</span><span class="comment"> * @details You must call getRdsReady before calling this function</span></div>
<div class="line"><span class="lineno"> 1209</span><span class="comment"> * @see https://en.wikipedia.org/wiki/Radio_Data_System</span></div>
<div class="line"><span class="lineno"> 1210</span><span class="comment"> * @return program type (an integer betwenn 0 and 31)</span></div>
<div class="line"><span class="lineno"> 1211</span><span class="comment"> */</span></div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e"> 1212</a></span><a class="code hl_function" href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e">uint8_t</a> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e">getRdsProgramType</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>{</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    bk_rds_blockb b;</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    b.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>    <span class="keywordflow">return</span> b.refined.programType;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>}</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span> </div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1220</span><span class="comment"> * @todo to be implemented</span></div>
<div class="line"><span class="lineno"> 1221</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1222</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1223</span><span class="comment"> * @brief Process data received from group 2B</span></div>
<div class="line"><span class="lineno"> 1224</span><span class="comment"> * @param c  char array reference to the &quot;group 2B&quot; text</span></div>
<div class="line"><span class="lineno"> 1225</span><span class="comment"> */</span></div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940"> 1226</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">getNext2Block</a>(<span class="keywordtype">char</span> *c)</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>{</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    <span class="keywordtype">char</span> raw[2];</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    raw[1] = reg0d-&gt;refined.lowByte;  <span class="comment">// RDS Block B low byte</span></div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    raw[0] = reg0d-&gt;refined.highByte; <span class="comment">// RDA Block B high byte</span></div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span> </div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    <span class="keywordflow">for</span> (i = j = 0; i &lt; 2; i++)</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    {</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>        <span class="keywordflow">if</span> (raw[i] == 0xD || raw[i] == 0xA)</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        {</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            c[j] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        }</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>        <span class="keywordflow">if</span> (raw[i] &gt;= 32)</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        {</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>            c[j] = raw[i];</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            j++;</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        }</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>            c[i] = <span class="stringliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        }</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>    }</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>}</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span> </div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1254</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1255</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1256</span><span class="comment"> * @brief Processes data received from group 2A</span></div>
<div class="line"><span class="lineno"> 1257</span><span class="comment"> * @details decodes data received from block C and block D</span></div>
<div class="line"><span class="lineno"> 1258</span><span class="comment"> * @param c  char array reference to the &quot;group  2A&quot; text</span></div>
<div class="line"><span class="lineno"> 1259</span><span class="comment"> */</span></div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd"> 1260</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">getNext4Block</a>(<span class="keywordtype">char</span> *c)</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>{</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    <span class="keywordtype">char</span> raw[4];</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span> </div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    raw[0] = reg0e-&gt;refined.highByte; <span class="comment">// RDS Block C high byte</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    raw[1] = reg0e-&gt;refined.lowByte;  <span class="comment">// RDS Block C low byte</span></div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    raw[2] = reg0f-&gt;refined.highByte; <span class="comment">// RDS Block D high byte</span></div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    raw[3] = reg0f-&gt;refined.lowByte;  <span class="comment">// RDS Block D low byte</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    <span class="keywordflow">for</span> (i = j = 0; i &lt; 4; i++)</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    {</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        <span class="keywordflow">if</span> (raw[i] == 0xD || raw[i] == 0xA)</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>        {</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>            c[j] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        }</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        <span class="keywordflow">if</span> (raw[i] &gt;= 32)</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>        {</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>            c[j] = raw[i];</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>            j++;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        }</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>        {</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>            c[i] = <span class="stringliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>        }</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    }</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>}</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span> </div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1290</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1291</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1292</span><span class="comment"> * @brief Gets the RDS Text when the message is of the Group Type 2 version A</span></div>
<div class="line"><span class="lineno"> 1293</span><span class="comment"> * @return char*  The string (char array) with the content (Text) received from group 2A</span></div>
<div class="line"><span class="lineno"> 1294</span><span class="comment"> */</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga29cf3c40f585f958c3a00836d438e94a"> 1295</a></span><span class="keywordtype">char</span> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga29cf3c40f585f958c3a00836d438e94a">getRdsText</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>{</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>}</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span> </div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1301</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1302</span><span class="comment"> * @todo This function is not working. Checking the BK1088E devices and RDS protocol implementation</span></div>
<div class="line"><span class="lineno"> 1303</span><span class="comment"> * @todo RDS Dynamic PS or Scrolling PS support</span></div>
<div class="line"><span class="lineno"> 1304</span><span class="comment"> * @brief Gets the Station Name and other messages.</span></div>
<div class="line"><span class="lineno"> 1305</span><span class="comment"> * @details Same getRdsStationName.</span></div>
<div class="line"><span class="lineno"> 1306</span><span class="comment"> * @return char* should return a string with the station name.</span></div>
<div class="line"><span class="lineno"> 1307</span><span class="comment"> *         However, some stations send other kind of messages</span></div>
<div class="line"><span class="lineno"> 1308</span><span class="comment"> */</span></div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32"> 1309</a></span><span class="keywordtype">char</span> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">getRdsText0A</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>{</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> rdsTextAdress0A;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    bk_rds_blockb blkb;</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span> </div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    blkb.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span> </div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    <span class="keywordflow">if</span> (blkb.group0.groupType == 0)</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    {</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>        <span class="comment">// Process group type 0</span></div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>        rdsTextAdress0A = blkb.group0.address;</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        <span class="keywordflow">if</span> (rdsTextAdress0A &gt;= 0 &amp;&amp; rdsTextAdress0A &lt; 4)</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        {</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>            <span class="comment">// strcpy(rds_buffer0A, &quot;TO DO...&quot;);  // Need to check the device and RDS protocol.</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>            <a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">getNext2Block</a><a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">(</a>&amp;<a class="code hl_variable" href="group___g_a01.html#a910467537993ef0875059b2318ee508e">rds_buffer0A</a>[rdsTextAdress0A * 2]<a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">)</a>;</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>            <a class="code hl_variable" href="group___g_a01.html#a910467537993ef0875059b2318ee508e">rds_buffer0A</a>[8] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="group___g_a01.html#a910467537993ef0875059b2318ee508e">rds_buffer0A</a>;</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>        }</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    }</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>}</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span> </div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1332</span><span class="comment"> * @ingroup @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1333</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1334</span><span class="comment"> * @brief Gets the Text processed for the 2A group</span></div>
<div class="line"><span class="lineno"> 1335</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1336</span><span class="comment"> * @return char* string with the Text of the group A2</span></div>
<div class="line"><span class="lineno"> 1337</span><span class="comment"> */</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"><a class="line" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f"> 1338</a></span><span class="keywordtype">char</span> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">getRdsText2A</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>{</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> rdsTextAdress2A;</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>    bk_rds_blockb blkb;</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span> </div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>    blkb.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    rdsTextAdress2A = blkb.group2.address;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span> </div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>    <span class="keywordflow">if</span> (blkb.group2.groupType == 2)</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    {</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>        <span class="comment">// Process group 2A</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>        <span class="comment">// Decode B block information</span></div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>        <span class="keywordflow">if</span> (rdsTextAdress2A &gt;= 0 &amp;&amp; rdsTextAdress2A &lt; 16)</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>        {</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>            <a class="code hl_function" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">getNext4Block</a><a class="code hl_function" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">(</a>&amp;<a class="code hl_variable" href="group___g_a01.html#a47624a15a9716a9ec6c0ac2d1060dd85">rds_buffer2A</a>[rdsTextAdress2A * 4]<a class="code hl_function" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">)</a>;</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>            <a class="code hl_variable" href="group___g_a01.html#a47624a15a9716a9ec6c0ac2d1060dd85">rds_buffer2A</a>[63] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="group___g_a01.html#a47624a15a9716a9ec6c0ac2d1060dd85">rds_buffer2A</a>;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>        }</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    }</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>}</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span> </div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1361</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1362</span><span class="comment"> * @brief Gets the Text processed for the 2B group</span></div>
<div class="line"><span class="lineno"> 1363</span><span class="comment"> * @return char* string with the Text of the group AB</span></div>
<div class="line"><span class="lineno"> 1364</span><span class="comment"> */</span></div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c"> 1365</a></span><span class="keywordtype">char</span> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">getRdsText2B</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>{</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> rdsTextAdress2B;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    bk_rds_blockb blkb;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span> </div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    blkb.blockB = reg0d-&gt;raw;</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <span class="keywordflow">if</span> (blkb.group2.groupType == 1)</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>        <span class="comment">// Process group 2B</span></div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>        rdsTextAdress2B = blkb.group2.address;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>        <span class="keywordflow">if</span> (rdsTextAdress2B &gt;= 0 &amp;&amp; rdsTextAdress2B &lt; 16)</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>        {</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>            <a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">getNext2Block</a><a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">(</a>&amp;<a class="code hl_variable" href="group___g_a01.html#a55d9b83680e41111d9926e19c2b99047">rds_buffer2B</a>[rdsTextAdress2B * 2]<a class="code hl_function" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">)</a>;</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="group___g_a01.html#a55d9b83680e41111d9926e19c2b99047">rds_buffer2B</a>;</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>        }</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    }</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>}</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span> </div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1385</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1386</span><span class="comment"> * @brief Gets Station Name, Station Information, Program Information and utcTime</span></div>
<div class="line"><span class="lineno"> 1387</span><span class="comment"> * @details This function populates four char pointer variable parameters with Station Name, Station Information, Programa Information and UTC time.</span></div>
<div class="line"><span class="lineno"> 1388</span><span class="comment"> * @details You must call  setRDS(true), setRdsFifo(true) before calling getRdsAllData(...)</span></div>
<div class="line"><span class="lineno"> 1389</span><span class="comment"> * @details ATTENTION: the parameters below are point to point to array of char.</span></div>
<div class="line"><span class="lineno"> 1390</span><span class="comment"> * @details the right way to call this function is shown below.</span></div>
<div class="line"><span class="lineno"> 1391</span><span class="comment"> * @code {.cpp}</span></div>
<div class="line"><span class="lineno"> 1392</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1393</span><span class="comment"> * char *stationName, *stationInfo, *programInfo, *rdsTime;</span></div>
<div class="line"><span class="lineno"> 1394</span><span class="comment"> * // The char pointers above will be populate by the call below. So, the char pointers need to be passed by reference (pointer to pointer).</span></div>
<div class="line"><span class="lineno"> 1395</span><span class="comment"> * if (rx.getRdsAllData(&amp;stationName, &amp;stationInfo , &amp;programInfo, &amp;rdsTime) ) {</span></div>
<div class="line"><span class="lineno"> 1396</span><span class="comment"> *     showProgramaInfo(programInfo);</span></div>
<div class="line"><span class="lineno"> 1397</span><span class="comment"> *     showStationName(stationName);</span></div>
<div class="line"><span class="lineno"> 1398</span><span class="comment"> *     showStationInfo(stationInfo);</span></div>
<div class="line"><span class="lineno"> 1399</span><span class="comment"> *     showUtcTime(rdsTime);</span></div>
<div class="line"><span class="lineno"> 1400</span><span class="comment"> * }</span></div>
<div class="line"><span class="lineno"> 1401</span><span class="comment"> * @endcode</span></div>
<div class="line"><span class="lineno"> 1402</span><span class="comment"> * @param stationName (reference)  - if NOT NULL,  point to Name of the Station (char array -  9 bytes)</span></div>
<div class="line"><span class="lineno"> 1403</span><span class="comment"> * @param stationInformation (reference)  - if NOT NULL, point to Station information (char array - 33 bytes)</span></div>
<div class="line"><span class="lineno"> 1404</span><span class="comment"> * @param programInformation (reference)  - if NOT NULL, point to program information (char array - 65 nytes)</span></div>
<div class="line"><span class="lineno"> 1405</span><span class="comment"> * @param utcTime  (reference)  - if NOT NULL, point to char array containing the current UTC time (format HH:MM:SS +HH:MM)</span></div>
<div class="line"><span class="lineno"> 1406</span><span class="comment"> * @return True if found at least one valid data</span></div>
<div class="line"><span class="lineno"> 1407</span><span class="comment"> * @see setRDS, setRdsFifo, getRdsAllData</span></div>
<div class="line"><span class="lineno"> 1408</span><span class="comment"> */</span></div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga5ee4c3a85508799204ed17fb84856fdb"> 1409</a></span><span class="keywordtype">bool</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga5ee4c3a85508799204ed17fb84856fdb">getRdsAllData</a>(<span class="keywordtype">char</span> **stationName, <span class="keywordtype">char</span> **stationInformation, <span class="keywordtype">char</span> **programInformation, <span class="keywordtype">char</span> **utcTime)</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>{</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span> </div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    <span class="keywordflow">if</span> (!<span class="keyword">this</span><a class="code hl_function" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">-&gt;</a><a class="code hl_function" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">getRdsReady</a><a class="code hl_function" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">(</a><a class="code hl_function" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">)</a>)</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    *stationName = <span class="keyword">this</span><a class="code hl_function" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">-&gt;</a><a class="code hl_function" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">getRdsText0A</a><a class="code hl_function" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">(</a><a class="code hl_function" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">)</a>;        <span class="comment">// returns NULL if no information</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    *stationInformation = <span class="keyword">this</span><a class="code hl_function" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">-&gt;</a><a class="code hl_function" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">getRdsText2B</a><a class="code hl_function" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">(</a><a class="code hl_function" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">)</a>; <span class="comment">// returns NULL if no information</span></div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    *programInformation = <span class="keyword">this</span><a class="code hl_function" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">-&gt;</a><a class="code hl_function" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">getRdsText2A</a><a class="code hl_function" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">(</a><a class="code hl_function" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">)</a>; <span class="comment">// returns NULL if no information</span></div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    *utcTime = <span class="keyword">this</span><a class="code hl_function" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">-&gt;</a><a class="code hl_function" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">getRdsTime</a><a class="code hl_function" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">(</a><a class="code hl_function" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">)</a>;              <span class="comment">// returns NULL if no information</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span> </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>    <span class="keywordflow">return</span> (<span class="keywordtype">bool</span>)stationName | (<span class="keywordtype">bool</span>)stationInformation | (<span class="keywordtype">bool</span>)programInformation | (<span class="keywordtype">bool</span>)utcTime;</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>}</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span> </div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1423</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1424</span><span class="comment"> * @brief Gets the RDS time and date when the Group type is 4</span></div>
<div class="line"><span class="lineno"> 1425</span><span class="comment"> * @return char* a string with hh:mm +/- offset</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="comment"> */</span></div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4"> 1427</a></span><span class="keywordtype">char</span> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">getRdsTime</a>()</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>{</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    bk_rds_date_time dt;</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    word16_to_bytes blk_b, blk_c, blk_d;</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    bk_rds_blockb blkb;</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span> </div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>    blk_b.raw = blkb.blockB = reg0d-&gt;raw; <span class="comment">// Block B</span></div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    blk_c.raw = reg0e-&gt;raw;               <span class="comment">// Block C</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    blk_d.raw = reg0f-&gt;raw;               <span class="comment">// Block D</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span> </div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    uint16_t minute;</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    uint16_t hour;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span> </div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <span class="keywordflow">if</span> (blkb.group0.groupType == 4)</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    {</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        <span class="keywordtype">char</span> offset_sign;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        <span class="keywordtype">int</span> offset_h;</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>        <span class="keywordtype">int</span> offset_m;</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span> </div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>        <span class="comment">// uint16_t y, m, d;</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span> </div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>        dt.raw[4] = blk_b.refined.lowByte;</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>        dt.raw[5] = blk_b.refined.highByte;</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span> </div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        dt.raw[2] = blk_c.refined.lowByte;</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>        dt.raw[3] = blk_c.refined.highByte;</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span> </div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>        dt.raw[0] = blk_d.refined.lowByte;</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>        dt.raw[1] = blk_d.refined.highByte;</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span> </div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>        minute = dt.refined.minute;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>        hour = dt.refined.hour;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span> </div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        offset_sign = (dt.refined.offset_sense == 1) ? <span class="stringliteral">&#39;+&#39;</span> : <span class="stringliteral">&#39;-&#39;</span>;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        offset_h = (dt.refined.offset * 30) / 60;</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        offset_m = (dt.refined.offset * 30) - (offset_h * 60);</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span> </div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        <span class="comment">// If wrong time, return NULL</span></div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        <span class="keywordflow">if</span> (offset_h &gt; 12 || offset_m &gt; 60 || hour &gt; 24 || minute &gt; 60)</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span> </div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        <span class="keyword">this</span>-&gt;convertToChar(hour, rds_time, 2, 0, <span class="stringliteral">&#39; &#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[2] = <span class="stringliteral">&#39;:&#39;</span>;</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>        <span class="keyword">this</span>-&gt;convertToChar(minute, &amp;rds_time[3], 2, 0, <span class="stringliteral">&#39; &#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[5] = <span class="stringliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[6] = offset_sign;</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        <span class="keyword">this</span>-&gt;convertToChar(offset_h, &amp;<a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[7], 2, 0, <span class="stringliteral">&#39; &#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[9] = <span class="stringliteral">&#39;:&#39;</span>;</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        <span class="keyword">this</span>-&gt;convertToChar(offset_m, &amp;<a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[10], 2, 0, <span class="stringliteral">&#39; &#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[12] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span> </div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    }</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>}</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span> </div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1485</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1486</span><span class="comment"> * @todo Need to check.</span></div>
<div class="line"><span class="lineno"> 1487</span><span class="comment"> * @brief Gets the RDS time converted to local time.</span></div>
<div class="line"><span class="lineno"> 1488</span><span class="comment"> * @details ATTENTION: You must call getRdsReady before calling this function.</span></div>
<div class="line"><span class="lineno"> 1489</span><span class="comment"> * @details ATTENTION: Some stations broadcast wrong time.</span></div>
<div class="line"><span class="lineno"> 1490</span><span class="comment"> * @return char* a string with hh:mm</span></div>
<div class="line"><span class="lineno"> 1491</span><span class="comment"> * @see getRdsReady</span></div>
<div class="line"><span class="lineno"> 1492</span><span class="comment"> */</span></div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"><a class="line" href="group___g_a04.html#gaebab6fd2a2af03b6a05991dad7b8ab35"> 1493</a></span><span class="keywordtype">char</span> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gaebab6fd2a2af03b6a05991dad7b8ab35">getRdsLocalTime</a>()</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>{</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    bk_rds_date_time dt;</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    word16_to_bytes blk_b, blk_c, blk_d;</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    bk_rds_blockb blkb;</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span> </div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    blk_b.raw = blkb.blockB = reg0d-&gt;raw; <span class="comment">// Block B</span></div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    blk_c.raw = reg0e-&gt;raw;               <span class="comment">// Block C</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    blk_d.raw = reg0f-&gt;raw;               <span class="comment">// Block D</span></div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span> </div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    uint16_t minute;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    uint16_t hour;</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    uint16_t localTime;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span> </div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    <span class="keywordflow">if</span> (blkb.group0.groupType == 4)</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    {</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>        <span class="keywordtype">int</span> offset_h;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>        <span class="keywordtype">int</span> offset_m;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span> </div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        dt.raw[4] = blk_b.refined.lowByte;</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>        dt.raw[5] = blk_b.refined.highByte;</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span> </div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        dt.raw[2] = blk_c.refined.lowByte;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>        dt.raw[3] = blk_c.refined.highByte;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span> </div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>        dt.raw[0] = blk_d.refined.lowByte;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>        dt.raw[1] = blk_d.refined.highByte;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span> </div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>        minute = dt.refined.minute;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        hour = dt.refined.hour;</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span> </div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>        offset_h = (dt.refined.offset * 30) / 60;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>        offset_m = (dt.refined.offset * 30) - (offset_h * 60);</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span> </div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>        localTime = (hour * 60 + minute);</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>        <span class="keywordflow">if</span> (dt.refined.offset_sense == 1)</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>            localTime -= (offset_h * 60 + offset_m);</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>            localTime += (offset_h * 60 + offset_m);</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span> </div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>        hour = localTime / 60;</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>        minute = localTime - (hour * 60);</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span> </div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>        <span class="keywordflow">if</span> (hour &gt; 24 || minute &gt; 60)</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span> </div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>        <span class="keyword">this</span>-&gt;convertToChar(hour, rds_time, 2, 0, <span class="stringliteral">&#39; &#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[2] = <span class="stringliteral">&#39;:&#39;</span>;</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>        <span class="keyword">this</span>-&gt;convertToChar(minute, &amp;rds_time[3], 2, 0, <span class="stringliteral">&#39; &#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>        <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>[5] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span> </div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>;</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>    }</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span> </div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>}</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span> </div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1551</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1552</span><span class="comment"> * @brief Get the Rds Sync</span></div>
<div class="line"><span class="lineno"> 1553</span><span class="comment"> * @details Returns true if RDS currently synchronized.</span></div>
<div class="line"><span class="lineno"> 1554</span><span class="comment"> * @return true or false</span></div>
<div class="line"><span class="lineno"> 1555</span><span class="comment"> */</span></div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"><a class="line" href="group___g_a04.html#gace7a6e83ef173bcf9e26b129df416c9c"> 1556</a></span><span class="keywordtype">bool</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gace7a6e83ef173bcf9e26b129df416c9c">getRdsSync</a>()</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>{</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>}</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span> </div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1562</span><span class="comment"> * @ingroup GA04</span></div>
<div class="line"><span class="lineno"> 1563</span><span class="comment"> * @brief Clear RDS Information (Station Name, Station Information, Program Information and Time)</span></div>
<div class="line"><span class="lineno"> 1564</span><span class="comment"> * @details Clear the buffer with latest RDS information</span></div>
<div class="line"><span class="lineno"> 1565</span><span class="comment"> */</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"><a class="line" href="group___g_a04.html#gab4df6a9ab8f9ea2b4ec0878fd49b99a1"> 1566</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a04.html#gab4df6a9ab8f9ea2b4ec0878fd49b99a1">clearRdsBuffer</a>()</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>{</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>    memset(<a class="code hl_variable" href="group___g_a01.html#a910467537993ef0875059b2318ee508e">rds_buffer0A</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="group___g_a01.html#a910467537993ef0875059b2318ee508e">rds_buffer0A</a>));</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>    memset(<a class="code hl_variable" href="group___g_a01.html#a47624a15a9716a9ec6c0ac2d1060dd85">rds_buffer2A</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="group___g_a01.html#a47624a15a9716a9ec6c0ac2d1060dd85">rds_buffer2A</a>));</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>    memset(<a class="code hl_variable" href="group___g_a01.html#a55d9b83680e41111d9926e19c2b99047">rds_buffer2B</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="group___g_a01.html#a55d9b83680e41111d9926e19c2b99047">rds_buffer2B</a>));</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    memset(<a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">rds_time</a>));</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>}</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span> </div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1575</span><span class="comment"> * @defgroup GA05 Tools</span></div>
<div class="line"><span class="lineno"> 1576</span><span class="comment"> * @section GA05 Tools / Helper</span></div>
<div class="line"><span class="lineno"> 1577</span><span class="comment"> */</span></div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span> </div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1580</span><span class="comment"> * @ingroup GA05 Check the I2C buss address</span></div>
<div class="line"><span class="lineno"> 1581</span><span class="comment"> * @brief Check the I2C bus address</span></div>
<div class="line"><span class="lineno"> 1582</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1583</span><span class="comment"> * @param uint8_t address Array - this array will be populated with the I2C bus addresses found (minimum three elements)</span></div>
<div class="line"><span class="lineno"> 1584</span><span class="comment"> * @return 0 if no i2c device is found; -1 if error is found or n &gt; 0, where n is the number of I2C bus address found</span></div>
<div class="line"><span class="lineno"> 1585</span><span class="comment"> */</span></div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"><a class="line" href="group___g_a05.html#ga94349ed646b59d42fe4c771e273df737"> 1586</a></span><span class="keywordtype">int</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a05.html#ga94349ed646b59d42fe4c771e273df737">checkI2C</a>(uint8_t *addressArray)</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>{</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>    Wire.begin();</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>    <span class="keywordtype">int</span> error, address;</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    <span class="keywordtype">int</span> idx = 0;</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    <span class="keywordflow">for</span> (address = 1; address &lt; 127; address++)</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    {</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>        Wire.beginTransmission(address);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>        error = Wire.endTransmission();</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>        <span class="keywordflow">if</span> (error == 0)</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>        {</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>            addressArray[idx] = address;</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>            idx++;</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>        }</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (error == 4)</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    }</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    Wire.end();</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    <span class="keywordflow">return</span> idx;</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>}</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span> </div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1608</span><span class="comment"> * @ingroup GA05 Check the I2C buss address</span></div>
<div class="line"><span class="lineno"> 1609</span><span class="comment"> * @brief Returns the point of uint16_t array (size 32)</span></div>
<div class="line"><span class="lineno"> 1610</span><span class="comment"> * @details Useful to monitor the device internal registers</span></div>
<div class="line"><span class="lineno"> 1611</span><span class="comment"> * @return point of shadowRegisters</span></div>
<div class="line"><span class="lineno"> 1612</span><span class="comment"> */</span></div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"><a class="line" href="group___g_a05.html#ga76cc0d91aab1701220c080349d7717d8"> 1613</a></span><a class="code hl_function" href="group___g_a05.html#ga76cc0d91aab1701220c080349d7717d8">uint16_t</a> *<a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a05.html#ga76cc0d91aab1701220c080349d7717d8">getRegisterValues</a>() {</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 32; i++ ) {</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        <span class="keyword">this</span>-&gt;getRegister(i); <span class="comment">// Gets the current value of the internal register</span></div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    }</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    <span class="keywordflow">return</span> shadowRegisters;</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>}</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span> </div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span><span class="comment">/**</span></div>
<div class="line"><span class="lineno"> 1621</span><span class="comment"> * @ingroup GA05 Covert numbers to char array</span></div>
<div class="line"><span class="lineno"> 1622</span><span class="comment"> * @brief Converts a number to a char array</span></div>
<div class="line"><span class="lineno"> 1623</span><span class="comment"> * @details It is useful to mitigate memory space used by functions like sprintf or othetr generic similar functions</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="comment"> * @details You can use it to format frequency using decimal or tousand separator and also to convert smalm numbers.</span></div>
<div class="line"><span class="lineno"> 1625</span><span class="comment"> *</span></div>
<div class="line"><span class="lineno"> 1626</span><span class="comment"> * @param value  value to be converted</span></div>
<div class="line"><span class="lineno"> 1627</span><span class="comment"> * @param strValue char array that will be receive the converted value</span></div>
<div class="line"><span class="lineno"> 1628</span><span class="comment"> * @param len final string size (in bytes)</span></div>
<div class="line"><span class="lineno"> 1629</span><span class="comment"> * @param dot the decimal or tousand separator position</span></div>
<div class="line"><span class="lineno"> 1630</span><span class="comment"> * @param separator symbol &quot;.&quot; or &quot;,&quot;</span></div>
<div class="line"><span class="lineno"> 1631</span><span class="comment"> * @param remove_leading_zeros if true removes up to two leading zeros (default is true)</span></div>
<div class="line"><span class="lineno"> 1632</span><span class="comment"> */</span></div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"><a class="line" href="group___g_a05.html#ga2ab717229791f3d3994f10717fb3c703"> 1633</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="group___g_a01.html#class_b_k108_x">BK108X</a>::<a class="code hl_function" href="group___g_a05.html#ga2ab717229791f3d3994f10717fb3c703">convertToChar</a>(uint16_t value, <span class="keywordtype">char</span> *strValue, uint8_t len, uint8_t dot, uint8_t separator, <span class="keywordtype">bool</span> remove_leading_zeros)</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>{</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>    <span class="keywordtype">char</span> d;</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (len - 1); i &gt;= 0; i--)</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>    {</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>        d = value % 10;</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        value = value / 10;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        strValue[i] = d + 48;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>    }</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    strValue[len] = <span class="stringliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    <span class="keywordflow">if</span> (dot &gt; 0)</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    {</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = len; i &gt;= dot; i--)</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>        {</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>            strValue[i + 1] = strValue[i];</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        }</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>        strValue[dot] = separator;</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>    }</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    <span class="keywordflow">if</span> (remove_leading_zeros)</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>    {</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>        <span class="keywordflow">if</span> (strValue[0] == <span class="stringliteral">&#39;0&#39;</span>)</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>        {</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>            strValue[0] = <span class="stringliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>            <span class="keywordflow">if</span> (strValue[1] == <span class="stringliteral">&#39;0&#39;</span>)</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>                strValue[1] = <span class="stringliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>        }</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    }</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>}</div>
<div class="ttc" id="a_b_k108_x_8h_html_a06bf525972f7b47f7683a0c37cfb2a70"><div class="ttname"><a href="_b_k108_x_8h.html#a06bf525972f7b47f7683a0c37cfb2a70">REG12</a></div><div class="ttdeci">#define REG12</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00072">BK108X.h:72</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a09a3d3fef9f53f0dbe1dd0072f02c1d4"><div class="ttname"><a href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a></div><div class="ttdeci">#define REG02</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00056">BK108X.h:56</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a0e3b6e600782d453f87223f87784c54d"><div class="ttname"><a href="_b_k108_x_8h.html#a0e3b6e600782d453f87223f87784c54d">REG0C</a></div><div class="ttdeci">#define REG0C</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00066">BK108X.h:66</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a1a5322c7bc447986d2d3b4d13de95315"><div class="ttname"><a href="_b_k108_x_8h.html#a1a5322c7bc447986d2d3b4d13de95315">REG0E</a></div><div class="ttdeci">#define REG0E</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00068">BK108X.h:68</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a2a41df49654ae321f569bfabfa74de24"><div class="ttname"><a href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a></div><div class="ttdeci">#define REG07</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00061">BK108X.h:61</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a2c18d898fc24de24b8731e57c6a1924d"><div class="ttname"><a href="_b_k108_x_8h.html#a2c18d898fc24de24b8731e57c6a1924d">REG13</a></div><div class="ttdeci">#define REG13</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00073">BK108X.h:73</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a2d697bfd5ba8d3203a00b1eb40b2bf0f"><div class="ttname"><a href="_b_k108_x_8h.html#a2d697bfd5ba8d3203a00b1eb40b2bf0f">REG17</a></div><div class="ttdeci">#define REG17</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00077">BK108X.h:77</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a3c6f5bce39c59fae7c4f238107d2d289"><div class="ttname"><a href="_b_k108_x_8h.html#a3c6f5bce39c59fae7c4f238107d2d289">BK_MODE_AM</a></div><div class="ttdeci">#define BK_MODE_AM</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00048">BK108X.h:48</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a3f7e2fe33fd2114b91fa653ba3fb932b"><div class="ttname"><a href="_b_k108_x_8h.html#a3f7e2fe33fd2114b91fa653ba3fb932b">REG15</a></div><div class="ttdeci">#define REG15</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00075">BK108X.h:75</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a41b7a4f7b9e629eb87dba4152995a616"><div class="ttname"><a href="_b_k108_x_8h.html#a41b7a4f7b9e629eb87dba4152995a616">REG0D</a></div><div class="ttdeci">#define REG0D</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00067">BK108X.h:67</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a48be4d4aa3bde15da7a8145c0f64fd7f"><div class="ttname"><a href="_b_k108_x_8h.html#a48be4d4aa3bde15da7a8145c0f64fd7f">REG09</a></div><div class="ttdeci">#define REG09</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00063">BK108X.h:63</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a4bfd6b226ed1e9858b3c1e8fc0a4137e"><div class="ttname"><a href="_b_k108_x_8h.html#a4bfd6b226ed1e9858b3c1e8fc0a4137e">REG10</a></div><div class="ttdeci">#define REG10</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00070">BK108X.h:70</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a575b918902872d95be6588c9732fd8bd"><div class="ttname"><a href="_b_k108_x_8h.html#a575b918902872d95be6588c9732fd8bd">REG19</a></div><div class="ttdeci">#define REG19</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00079">BK108X.h:79</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a5ec596211175cecd682755f5e996b6dd"><div class="ttname"><a href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a></div><div class="ttdeci">#define REG0A</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00064">BK108X.h:64</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a5eeaea32c870a31999643b68ba6c9cdb"><div class="ttname"><a href="_b_k108_x_8h.html#a5eeaea32c870a31999643b68ba6c9cdb">REG1A</a></div><div class="ttdeci">#define REG1A</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00080">BK108X.h:80</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a615ce0ebc819ed8ea5f84d81e9d3c707"><div class="ttname"><a href="_b_k108_x_8h.html#a615ce0ebc819ed8ea5f84d81e9d3c707">REG1C</a></div><div class="ttdeci">#define REG1C</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00082">BK108X.h:82</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a748ad53bef975af9c1edbcacc58e5be4"><div class="ttname"><a href="_b_k108_x_8h.html#a748ad53bef975af9c1edbcacc58e5be4">REG00</a></div><div class="ttdeci">#define REG00</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00054">BK108X.h:54</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a76c73d8e23848f8d73679450c2d7264b"><div class="ttname"><a href="_b_k108_x_8h.html#a76c73d8e23848f8d73679450c2d7264b">REG0B</a></div><div class="ttdeci">#define REG0B</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00065">BK108X.h:65</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a7f2f605c029c5c96fb06ecca2933dc67"><div class="ttname"><a href="_b_k108_x_8h.html#a7f2f605c029c5c96fb06ecca2933dc67">REG16</a></div><div class="ttdeci">#define REG16</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00076">BK108X.h:76</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a848ac333ddfea97bc1f16a2e69eaf953"><div class="ttname"><a href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a></div><div class="ttdeci">#define REG05</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00059">BK108X.h:59</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a88dee04c27a51e335798ab012dccbea1"><div class="ttname"><a href="_b_k108_x_8h.html#a88dee04c27a51e335798ab012dccbea1">REG04</a></div><div class="ttdeci">#define REG04</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00058">BK108X.h:58</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a8928c3ceb92de4ff29e682dca2faa85e"><div class="ttname"><a href="_b_k108_x_8h.html#a8928c3ceb92de4ff29e682dca2faa85e">REG1B</a></div><div class="ttdeci">#define REG1B</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00081">BK108X.h:81</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a936c7bd27b99a90769f93ec3f004b3e0"><div class="ttname"><a href="_b_k108_x_8h.html#a936c7bd27b99a90769f93ec3f004b3e0">REG1D</a></div><div class="ttdeci">#define REG1D</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00083">BK108X.h:83</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a949846d6974a39c871614c2f15ee0691"><div class="ttname"><a href="_b_k108_x_8h.html#a949846d6974a39c871614c2f15ee0691">REG0F</a></div><div class="ttdeci">#define REG0F</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00069">BK108X.h:69</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a96ac68e41626933b41138548318e052b"><div class="ttname"><a href="_b_k108_x_8h.html#a96ac68e41626933b41138548318e052b">REG11</a></div><div class="ttdeci">#define REG11</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00071">BK108X.h:71</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a96f1c217ac648e08bc64dd3b9086612c"><div class="ttname"><a href="_b_k108_x_8h.html#a96f1c217ac648e08bc64dd3b9086612c">REG08</a></div><div class="ttdeci">#define REG08</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00062">BK108X.h:62</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ac2446f96334b533154259a21c13950e6"><div class="ttname"><a href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a></div><div class="ttdeci">#define REG03</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00057">BK108X.h:57</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ac5641e8e0c3254714bcd533a4b0111ca"><div class="ttname"><a href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a></div><div class="ttdeci">#define REG06</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00060">BK108X.h:60</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ac5d858df6fa437b9e2fdd74ed2bb027a"><div class="ttname"><a href="_b_k108_x_8h.html#ac5d858df6fa437b9e2fdd74ed2bb027a">REG18</a></div><div class="ttdeci">#define REG18</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00078">BK108X.h:78</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_acc98e8d3badddd21bc528451bb718f82"><div class="ttname"><a href="_b_k108_x_8h.html#acc98e8d3badddd21bc528451bb718f82">MAX_SEEK_TIME</a></div><div class="ttdeci">#define MAX_SEEK_TIME</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00025">BK108X.h:25</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ad0763fd256db4ec1ecc62f84bbff56e2"><div class="ttname"><a href="_b_k108_x_8h.html#ad0763fd256db4ec1ecc62f84bbff56e2">OSCILLATOR_TYPE_CRYSTAL</a></div><div class="ttdeci">#define OSCILLATOR_TYPE_CRYSTAL</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00027">BK108X.h:27</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ad34d16e8c104c88c8fb1ce1195cfed14"><div class="ttname"><a href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a></div><div class="ttdeci">#define REG14</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00074">BK108X.h:74</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_af1c4cc5f6cdda1dbb699c5be2ff1bd79"><div class="ttname"><a href="_b_k108_x_8h.html#af1c4cc5f6cdda1dbb699c5be2ff1bd79">BK_MODE_FM</a></div><div class="ttdeci">#define BK_MODE_FM</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00047">BK108X.h:47</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_afc04faecdab9e0d1751466b6c53fdaf1"><div class="ttname"><a href="_b_k108_x_8h.html#afc04faecdab9e0d1751466b6c53fdaf1">REG01</a></div><div class="ttdeci">#define REG01</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00055">BK108X.h:55</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a102d07b1523cf46434bb4434b7c70d60"><div class="ttname"><a href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">BK108X::getChipId</a></div><div class="ttdeci">uint16_t getChipId()</div><div class="ttdoc">Returns the Chip Indentifiction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00317">BK108X.cpp:317</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a47624a15a9716a9ec6c0ac2d1060dd85"><div class="ttname"><a href="group___g_a01.html#a47624a15a9716a9ec6c0ac2d1060dd85">BK108X::rds_buffer2A</a></div><div class="ttdeci">char rds_buffer2A[65]</div><div class="ttdoc">RDS Radio Text buffer - Program Information.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00788">BK108X.h:788</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a55d9b83680e41111d9926e19c2b99047"><div class="ttname"><a href="group___g_a01.html#a55d9b83680e41111d9926e19c2b99047">BK108X::rds_buffer2B</a></div><div class="ttdeci">char rds_buffer2B[33]</div><div class="ttdoc">RDS Radio Text buffer - Station Informaation.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00789">BK108X.h:789</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a5f9fe73f248fbeafb1a6abb1c92d578b"><div class="ttname"><a href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">BK108X::getDeviceId</a></div><div class="ttdeci">uint16_t getDeviceId()</div><div class="ttdoc">Returns the Device Indentifiction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00307">BK108X.cpp:307</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a910467537993ef0875059b2318ee508e"><div class="ttname"><a href="group___g_a01.html#a910467537993ef0875059b2318ee508e">BK108X::rds_buffer0A</a></div><div class="ttdeci">char rds_buffer0A[9]</div><div class="ttdoc">RDS Basic tuning and switching information (Type 0 groups)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00790">BK108X.h:790</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a91b3171ba5c52f8bbbd54277bbb2bdfe"><div class="ttname"><a href="group___g_a01.html#a91b3171ba5c52f8bbbd54277bbb2bdfe">BK108X::deviceAddress</a></div><div class="ttdeci">int deviceAddress</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00795">BK108X.h:795</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a9eaf32bcfafe2ac39912b81707c9da5e"><div class="ttname"><a href="group___g_a01.html#a9eaf32bcfafe2ac39912b81707c9da5e">BK108X::rds_time</a></div><div class="ttdeci">char rds_time[20]</div><div class="ttdoc">RDS date time received information.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00791">BK108X.h:791</a></div></div>
<div class="ttc" id="agroup___g_a01_html_class_b_k108_x"><div class="ttname"><a href="group___g_a01.html#class_b_k108_x">BK108X</a></div><div class="ttdoc">KT0915 Class.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00732">BK108X.h:733</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga00ccd956af8470ccc32a18b476dda0c2"><div class="ttname"><a href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">BK108X::i2cReceiveAck</a></div><div class="ttdeci">uint8_t i2cReceiveAck()</div><div class="ttdoc">Gets Acknowledge (ACK)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00139">BK108X.cpp:139</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga2d7a8606874d174e6fdb66d9ef602811"><div class="ttname"><a href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">BK108X::i2cReadByte</a></div><div class="ttdeci">uint8_t i2cReadByte()</div><div class="ttdoc">Gets a Byte from the slave device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00184">BK108X.cpp:184</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga6521ba6b192db9370203d6672178d47e"><div class="ttname"><a href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">BK108X::readRegister</a></div><div class="ttdeci">uint16_t readRegister(uint8_t reg)</div><div class="ttdoc">Gets an array of values from a BK108X given register.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00240">BK108X.cpp:240</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga964d94010afe620e87a01f347bc55196"><div class="ttname"><a href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">BK108X::i2cBeginTransaction</a></div><div class="ttdeci">void i2cBeginTransaction()</div><div class="ttdoc">Starts the I2C bus transaction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00066">BK108X.cpp:66</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga9a1baa9e95b4c25a6bb7cfb00baebfbd"><div class="ttname"><a href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">BK108X::i2cEndTransaction</a></div><div class="ttdeci">void i2cEndTransaction()</div><div class="ttdoc">Finish the I2C bus transaction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00085">BK108X.cpp:85</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga9f97140ef586e3fbf52b482bfae94d9c"><div class="ttname"><a href="group___g_a02.html#ga9f97140ef586e3fbf52b482bfae94d9c">BK108X::i2cWriteByte</a></div><div class="ttdeci">void i2cWriteByte(uint8_t data)</div><div class="ttdoc">Sends a Byte to the slave device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00161">BK108X.cpp:161</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gaaa412587cacee78fdb6da296d97c9c74"><div class="ttname"><a href="group___g_a02.html#gaaa412587cacee78fdb6da296d97c9c74">BK108X::writeRegister</a></div><div class="ttdeci">void writeRegister(uint8_t reg, uint16_t vakue)</div><div class="ttdoc">Sends an array of values to a BK108X given register.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00211">BK108X.cpp:211</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gab7987984a7302ba985689c6cec95f833"><div class="ttname"><a href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">BK108X::i2cNack</a></div><div class="ttdeci">void i2cNack()</div><div class="ttdoc">Sends Not Acknowledge (ACK)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00121">BK108X.cpp:121</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gabb521f2af588ce1c94755bd2525f32c9"><div class="ttname"><a href="group___g_a02.html#gabb521f2af588ce1c94755bd2525f32c9">BK108X::setI2C</a></div><div class="ttdeci">void setI2C(uint8_t i2c_addr=I2C_DEVICE_ADDR)</div><div class="ttdoc">Sets I2C bus address.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00043">BK108X.cpp:43</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gaf3c1f7226ebb99d7b7aa2e0c58d166db"><div class="ttname"><a href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">BK108X::i2cAck</a></div><div class="ttdeci">void i2cAck()</div><div class="ttdoc">Sends Acknowledge (ACK)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00105">BK108X.cpp:105</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gafbe95dfa30734cd6c30f5d6ea77089c9"><div class="ttname"><a href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">BK108X::i2cInit</a></div><div class="ttdeci">void i2cInit(int pin_sdio, int pin_sclk)</div><div class="ttdoc">Sets the MCU pins connected to the I2C bus.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00056">BK108X.cpp:56</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga0479b36a2d6558df557a3ba4a0d07ce2"><div class="ttname"><a href="group___g_a03.html#ga0479b36a2d6558df557a3ba4a0d07ce2">BK108X::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Resets the device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00371">BK108X.cpp:371</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga06f919a6698c0dee4181200222e088c2"><div class="ttname"><a href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">BK108X::getChannel</a></div><div class="ttdeci">uint16_t getChannel()</div><div class="ttdoc">Gets the current channel.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00666">BK108X.cpp:666</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga0a0067f9c9c50d595bcec8b9157bd957"><div class="ttname"><a href="group___g_a03.html#ga0a0067f9c9c50d595bcec8b9157bd957">BK108X::seekHardware</a></div><div class="ttdeci">void seekHardware(uint8_t seek_mode, uint8_t direction, void(*showFunc)()=NULL)</div><div class="ttdoc">Seeks a station via hardware functionality.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00774">BK108X.cpp:774</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga0e3272d62ec11f91251569e422cd4c58"><div class="ttname"><a href="group___g_a03.html#ga0e3272d62ec11f91251569e422cd4c58">BK108X::setSpace</a></div><div class="ttdeci">void setSpace(uint8_t space=0)</div><div class="ttdoc">Sets the Space channel for AM or FM.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00870">BK108X.cpp:870</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga137b126f37f177a7c3928c5755d99757"><div class="ttname"><a href="group___g_a03.html#ga137b126f37f177a7c3928c5755d99757">BK108X::seekSoftware</a></div><div class="ttdeci">void seekSoftware(uint8_t seek_mode, uint8_t direction, void(*showFunc)()=NULL)</div><div class="ttdoc">Seeks a station via Software.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00736">BK108X.cpp:736</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga142c5b934ce9d95beb8e83278b622013"><div class="ttname"><a href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">BK108X::getRealChannel</a></div><div class="ttdeci">uint16_t getRealChannel()</div><div class="ttdoc">Gets the current channel stored in register 0x0B.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00677">BK108X.cpp:677</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga157dea83c3abb71f49124252a109a383"><div class="ttname"><a href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">BK108X::waitAndFinishTune</a></div><div class="ttdeci">void waitAndFinishTune()</div><div class="ttdoc">Wait STC (Seek/Tune Complete) status becomes 0.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00354">BK108X.cpp:354</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga162198f02a87c3ed6b0fd665719248da"><div class="ttname"><a href="group___g_a03.html#ga162198f02a87c3ed6b0fd665719248da">BK108X::setSoftMuteAttack</a></div><div class="ttdeci">void setSoftMuteAttack(uint8_t value)</div><div class="ttdoc">Sets Softmute Attack/Recover Rate.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00932">BK108X.cpp:932</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga2d2a246c4d65dfbf93b5660a500c74c3"><div class="ttname"><a href="group___g_a03.html#ga2d2a246c4d65dfbf93b5660a500c74c3">BK108X::setSeekThreshold</a></div><div class="ttdeci">void setSeekThreshold(uint8_t rssiValue, uint8_t snrValue)</div><div class="ttdoc">Sets RSSI and SNR Seek Threshold.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00820">BK108X.cpp:820</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga334ccbe40fcb5faa9e045288ca606f89"><div class="ttname"><a href="group___g_a03.html#ga334ccbe40fcb5faa9e045288ca606f89">BK108X::setAM</a></div><div class="ttdeci">void setAM(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step, uint16_t am_space=0)</div><div class="ttdoc">Sets the receiver to AM mode.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00554">BK108X.cpp:554</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga378780ca51288b4cf94d6820704023fd"><div class="ttname"><a href="group___g_a03.html#ga378780ca51288b4cf94d6820704023fd">BK108X::getSnr</a></div><div class="ttdeci">int getSnr()</div><div class="ttdoc">Gets the current SNR.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00899">BK108X.cpp:899</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga402613def6ec429dcdb25ebdd91404fc"><div class="ttname"><a href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">BK108X::setAudioMute</a></div><div class="ttdeci">void setAudioMute(bool left, bool right)</div><div class="ttdoc">Sets the Mute true or false.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01003">BK108X.cpp:1003</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga514242393caa2068d8acb3adec953832"><div class="ttname"><a href="group___g_a03.html#ga514242393caa2068d8acb3adec953832">BK108X::setFrequency</a></div><div class="ttdeci">void setFrequency(uint16_t frequency)</div><div class="ttdoc">Sets the FM frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00605">BK108X.cpp:605</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga528a4c6c6a343c3b7ae95331bb4316ce"><div class="ttname"><a href="group___g_a03.html#ga528a4c6c6a343c3b7ae95331bb4316ce">BK108X::setBand</a></div><div class="ttdeci">void setBand(uint8_t band=1)</div><div class="ttdoc">Sets the current band for AM or FM.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00845">BK108X.cpp:845</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga5bf724e36f2dbdc826c387601e00ace1"><div class="ttname"><a href="group___g_a03.html#ga5bf724e36f2dbdc826c387601e00ace1">BK108X::setFrequencyDown</a></div><div class="ttdeci">void setFrequencyDown()</div><div class="ttdoc">Decrements the current frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00641">BK108X.cpp:641</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga62f9f2a5d84230b5f62be82d5514e86f"><div class="ttname"><a href="group___g_a03.html#ga62f9f2a5d84230b5f62be82d5514e86f">BK108X::setAudioMute</a></div><div class="ttdeci">void setAudioMute(bool value)</div><div class="ttdoc">Sets the Mute true or false.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01016">BK108X.cpp:1016</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga65342f0cf9a3ad9582b920f8d084caf8"><div class="ttname"><a href="group___g_a03.html#ga65342f0cf9a3ad9582b920f8d084caf8">BK108X::setSoftMute</a></div><div class="ttdeci">void setSoftMute(bool value)</div><div class="ttdoc">Sets the Softmute true or false.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00911">BK108X.cpp:911</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga6d56b06e4420c573e56dbdd36ed18ed6"><div class="ttname"><a href="group___g_a03.html#ga6d56b06e4420c573e56dbdd36ed18ed6">BK108X::setAfcMute</a></div><div class="ttdeci">void setAfcMute(bool value)</div><div class="ttdoc">Disable or Enable soft mute when AFCRL is high.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00990">BK108X.cpp:990</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga759a835f25ca7ce2c861cc5b3cf1abb8"><div class="ttname"><a href="group___g_a03.html#ga759a835f25ca7ce2c861cc5b3cf1abb8">BK108X::getStatus</a></div><div class="ttdeci">bk_reg0a getStatus()</div><div class="ttdoc">Gets the current status (register 0x0A) content.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00341">BK108X.cpp:341</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga83b36ff59c25663df3194c49747e6fe7"><div class="ttname"><a href="group___g_a03.html#ga83b36ff59c25663df3194c49747e6fe7">BK108X::isStereo</a></div><div class="ttdeci">bool isStereo()</div><div class="ttdoc">Checks stereo / mono status.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01041">BK108X.cpp:1041</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga89438602c507ba477aaa626999210b7e"><div class="ttname"><a href="group___g_a03.html#ga89438602c507ba477aaa626999210b7e">BK108X::setVolumeUp</a></div><div class="ttdeci">void setVolumeUp()</div><div class="ttdoc">Increments the audio volume.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01080">BK108X.cpp:1080</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga91be125793a421bc17e2b25223b3a10a"><div class="ttname"><a href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">BK108X::getFrequency</a></div><div class="ttdeci">uint16_t getFrequency()</div><div class="ttdoc">Gets the current frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00656">BK108X.cpp:656</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga966d4542de0422959750044633c5217a"><div class="ttname"><a href="group___g_a03.html#ga966d4542de0422959750044633c5217a">BK108X::setSoftMuteAttenuation</a></div><div class="ttdeci">void setSoftMuteAttenuation(uint8_t value)</div><div class="ttdoc">Sets Softmute Attenuation.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00951">BK108X.cpp:951</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa3a8958cbfb9cac36c81ed9351b5b857"><div class="ttname"><a href="group___g_a03.html#gaa3a8958cbfb9cac36c81ed9351b5b857">BK108X::powerDown</a></div><div class="ttdeci">void powerDown()</div><div class="ttdoc">Powers the receiver off.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00457">BK108X.cpp:457</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa479240fcad272dc505ae50a6f4369d3"><div class="ttname"><a href="group___g_a03.html#gaa479240fcad272dc505ae50a6f4369d3">BK108X::setChannel</a></div><div class="ttdeci">void setChannel(uint16_t channel)</div><div class="ttdoc">Sets the channel.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00584">BK108X.cpp:584</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa6da4291400839ffc68ccff5e1ad7b13"><div class="ttname"><a href="group___g_a03.html#gaa6da4291400839ffc68ccff5e1ad7b13">BK108X::setFM</a></div><div class="ttdeci">void setFM(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step)</div><div class="ttdoc">Sets the receiver to FM mode.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00524">BK108X.cpp:524</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa91f9b57fb80f9411f97755d15e7d808"><div class="ttname"><a href="group___g_a03.html#gaa91f9b57fb80f9411f97755d15e7d808">BK108X::setVolume</a></div><div class="ttdeci">void setVolume(uint8_t value)</div><div class="ttdoc">Sets the audio volume level.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01053">BK108X.cpp:1053</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gab8dba059205a7d118c0153db8636fdb8"><div class="ttname"><a href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">BK108X::getVolume</a></div><div class="ttdeci">uint8_t getVolume()</div><div class="ttdoc">Gets the current audio volume level.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01070">BK108X.cpp:1070</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gabc3b9000cc833cfbec7cf1edc03ef674"><div class="ttname"><a href="group___g_a03.html#gabc3b9000cc833cfbec7cf1edc03ef674">BK108X::setMono</a></div><div class="ttdeci">void setMono(bool value)</div><div class="ttdoc">Sets the Mono true or false (stereo)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01027">BK108X.cpp:1027</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gac0c265a916d7852d7e4977b1835098eb"><div class="ttname"><a href="group___g_a03.html#gac0c265a916d7852d7e4977b1835098eb">BK108X::setFrequencyUp</a></div><div class="ttdeci">void setFrequencyUp()</div><div class="ttdoc">Increments the current frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00626">BK108X.cpp:626</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gac0f7f0de2093cae7777d2bc5ee1b22b4"><div class="ttname"><a href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">BK108X::getRealFrequency</a></div><div class="ttdeci">uint16_t getRealFrequency()</div><div class="ttdoc">Gets the frequency based on READCHAN register (0x0B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00690">BK108X.cpp:690</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gac2cf423a3eeee3213a3c7c73a8316f8a"><div class="ttname"><a href="group___g_a03.html#gac2cf423a3eeee3213a3c7c73a8316f8a">BK108X::setVolumeDown</a></div><div class="ttdeci">void setVolumeDown()</div><div class="ttdoc">Decrements the audio volume.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01094">BK108X.cpp:1094</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gacdabf4e7e5c7ef78bf51710122daa618"><div class="ttname"><a href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">BK108X::powerUp</a></div><div class="ttdeci">void powerUp()</div><div class="ttdoc">Powers the receiver on.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00388">BK108X.cpp:388</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gad1e862acb8dd7f8f121963c97b9e0eed"><div class="ttname"><a href="group___g_a03.html#gad1e862acb8dd7f8f121963c97b9e0eed">BK108X::setup</a></div><div class="ttdeci">void setup(int sda_pin, int sclk_pin, uint8_t oscillator_type=OSCILLATOR_TYPE_CRYSTAL, uint32_t oscillator_frequency=32768)</div><div class="ttdoc">Starts the device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00505">BK108X.cpp:505</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gad8ecfa1da87d3ca51f735d7f921706bf"><div class="ttname"><a href="group___g_a03.html#gad8ecfa1da87d3ca51f735d7f921706bf">BK108X::getRssi</a></div><div class="ttdeci">int getRssi()</div><div class="ttdoc">Gets the current Rssi.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00887">BK108X.cpp:887</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gadc64097823fe26425a420270562cfc34"><div class="ttname"><a href="group___g_a03.html#gadc64097823fe26425a420270562cfc34">BK108X::setRegister</a></div><div class="ttdeci">void setRegister(uint8_t reg, uint16_t value)</div><div class="ttdoc">Sets a given value to the device registers.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00296">BK108X.cpp:296</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaeda6bee33d55a04e09a76408812f13cb"><div class="ttname"><a href="group___g_a03.html#gaeda6bee33d55a04e09a76408812f13cb">BK108X::setMuteThreshold</a></div><div class="ttdeci">void setMuteThreshold(uint8_t rssi, uint8_t snr)</div><div class="ttdoc">Set the Mute Threshold based on RSSI and SNR.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00965">BK108X.cpp:965</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gafce9573202cce9a06869bead65fe9685"><div class="ttname"><a href="group___g_a03.html#gafce9573202cce9a06869bead65fe9685">BK108X::setSeekMute</a></div><div class="ttdeci">void setSeekMute(bool value)</div><div class="ttdoc">Disable or Enable soft mute when seeking.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00978">BK108X.cpp:978</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaff213081b782af8223279caf1488ef80"><div class="ttname"><a href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">BK108X::getRegister</a></div><div class="ttdeci">uint16_t getRegister(uint8_t reg)</div><div class="ttdoc">Gets a givens current register content of the device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00276">BK108X.cpp:276</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga045825c54358c0bc1e741889a14a8a32"><div class="ttname"><a href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">BK108X::getRdsText0A</a></div><div class="ttdeci">char * getRdsText0A(void)</div><div class="ttdoc">Gets the Station Name and other messages.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01309">BK108X.cpp:1309</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga1fb9b7d09968c248624c9c9c3aa3b307"><div class="ttname"><a href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">BK108X::getRdsReady</a></div><div class="ttdeci">bool getRdsReady()</div><div class="ttdoc">Returns true if RDS Ready.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01152">BK108X.cpp:1152</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga29cf3c40f585f958c3a00836d438e94a"><div class="ttname"><a href="group___g_a04.html#ga29cf3c40f585f958c3a00836d438e94a">BK108X::getRdsText</a></div><div class="ttdeci">char * getRdsText(void)</div><div class="ttdoc">Gets the RDS Text when the message is of the Group Type 2 version A.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01295">BK108X.cpp:1295</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga2f9f668c6a689276d486fe0c0871086c"><div class="ttname"><a href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">BK108X::getRdsText2B</a></div><div class="ttdeci">char * getRdsText2B(void)</div><div class="ttdoc">Gets the Text processed for the 2B group.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01365">BK108X.cpp:1365</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga395af9273883205883c5ca87776877cd"><div class="ttname"><a href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">BK108X::getNext4Block</a></div><div class="ttdeci">void getNext4Block(char *c)</div><div class="ttdoc">Processes data received from group 2A.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01260">BK108X.cpp:1260</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga4693aebc8f2c479df966746d42374bf6"><div class="ttname"><a href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6">BK108X::getRdsVersionCode</a></div><div class="ttdeci">uint8_t getRdsVersionCode(void)</div><div class="ttdoc">Gets the version code (extracted from the Block B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01198">BK108X.cpp:1198</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga5ee4c3a85508799204ed17fb84856fdb"><div class="ttname"><a href="group___g_a04.html#ga5ee4c3a85508799204ed17fb84856fdb">BK108X::getRdsAllData</a></div><div class="ttdeci">bool getRdsAllData(char **stationName, char **stationInformation, char **programInformation, char **utcTime)</div><div class="ttdoc">Gets Station Name, Station Information, Program Information and utcTime.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01409">BK108X.cpp:1409</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga6c0f7231f5c0b02185f5f3ad847364a4"><div class="ttname"><a href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">BK108X::getRdsTime</a></div><div class="ttdeci">char * getRdsTime()</div><div class="ttdoc">Gets the RDS time and date when the Group type is 4.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01427">BK108X.cpp:1427</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga88ee370deb58d65deee0e8e159507758"><div class="ttname"><a href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758">BK108X::getRdsGroupType</a></div><div class="ttdeci">uint16_t getRdsGroupType()</div><div class="ttdoc">Return the group type - Gets the Group Type (extracted from the Block B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01184">BK108X.cpp:1184</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga8be7187079334991c12934087e7d826c"><div class="ttname"><a href="group___g_a04.html#ga8be7187079334991c12934087e7d826c">BK108X::getRdsFlagAB</a></div><div class="ttdeci">uint8_t getRdsFlagAB(void)</div><div class="ttdoc">Returns the current Text Flag A/B.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01171">BK108X.cpp:1171</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga8dafdca0cc93acecacfd3231af8aba1e"><div class="ttname"><a href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e">BK108X::getRdsProgramType</a></div><div class="ttdeci">uint8_t getRdsProgramType(void)</div><div class="ttdoc">Returns the Program Type (extracted from the Block B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01212">BK108X.cpp:1212</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga9604c12896a554660d5cef45a1f8d940"><div class="ttname"><a href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">BK108X::getNext2Block</a></div><div class="ttdeci">void getNext2Block(char *c)</div><div class="ttdoc">Process data received from group 2B.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01226">BK108X.cpp:1226</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gaa45a715a465a77143dc7d300d6a3192f"><div class="ttname"><a href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">BK108X::getRdsText2A</a></div><div class="ttdeci">char * getRdsText2A(void)</div><div class="ttdoc">Gets the Text processed for the 2A group.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01338">BK108X.cpp:1338</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gab4df6a9ab8f9ea2b4ec0878fd49b99a1"><div class="ttname"><a href="group___g_a04.html#gab4df6a9ab8f9ea2b4ec0878fd49b99a1">BK108X::clearRdsBuffer</a></div><div class="ttdeci">void clearRdsBuffer()</div><div class="ttdoc">Clear RDS Information (Station Name, Station Information, Program Information and Time)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01566">BK108X.cpp:1566</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gace7a6e83ef173bcf9e26b129df416c9c"><div class="ttname"><a href="group___g_a04.html#gace7a6e83ef173bcf9e26b129df416c9c">BK108X::getRdsSync</a></div><div class="ttdeci">bool getRdsSync()</div><div class="ttdoc">Get the Rds Sync.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01556">BK108X.cpp:1556</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gadb237cc8ad191804af5de514a5610fd9"><div class="ttname"><a href="group___g_a04.html#gadb237cc8ad191804af5de514a5610fd9">BK108X::setRdsMode</a></div><div class="ttdeci">void setRdsMode(uint8_t rds_mode=0)</div><div class="ttdoc">Sets the Rds Mode Standard or Verbose.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01125">BK108X.cpp:1125</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gadc61ebb78e49b6bfc9aa6eadc98363a5"><div class="ttname"><a href="group___g_a04.html#gadc61ebb78e49b6bfc9aa6eadc98363a5">BK108X::setRds</a></div><div class="ttdeci">void setRds(bool value)</div><div class="ttdoc">Sets the RDS operation.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01137">BK108X.cpp:1137</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gade944541df0205f7a7bb6335ae25c211"><div class="ttname"><a href="group___g_a04.html#gade944541df0205f7a7bb6335ae25c211">BK108X::getRdsStatus</a></div><div class="ttdeci">void getRdsStatus()</div><div class="ttdoc">Gets the RDS registers information.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01115">BK108X.cpp:1115</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gaebab6fd2a2af03b6a05991dad7b8ab35"><div class="ttname"><a href="group___g_a04.html#gaebab6fd2a2af03b6a05991dad7b8ab35">BK108X::getRdsLocalTime</a></div><div class="ttdeci">char * getRdsLocalTime()</div><div class="ttdoc">Gets the RDS time converted to local time.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01493">BK108X.cpp:1493</a></div></div>
<div class="ttc" id="agroup___g_a05_html_ga2ab717229791f3d3994f10717fb3c703"><div class="ttname"><a href="group___g_a05.html#ga2ab717229791f3d3994f10717fb3c703">BK108X::convertToChar</a></div><div class="ttdeci">void convertToChar(uint16_t value, char *strValue, uint8_t len, uint8_t dot, uint8_t separator, bool remove_leading_zeros=true)</div><div class="ttdoc">Converts a number to a char array.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01633">BK108X.cpp:1633</a></div></div>
<div class="ttc" id="agroup___g_a05_html_ga76cc0d91aab1701220c080349d7717d8"><div class="ttname"><a href="group___g_a05.html#ga76cc0d91aab1701220c080349d7717d8">BK108X::getRegisterValues</a></div><div class="ttdeci">uint16_t * getRegisterValues()</div><div class="ttdoc">Returns the point of uint16_t array (size 32)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01613">BK108X.cpp:1613</a></div></div>
<div class="ttc" id="agroup___g_a05_html_ga94349ed646b59d42fe4c771e273df737"><div class="ttname"><a href="group___g_a05.html#ga94349ed646b59d42fe4c771e273df737">BK108X::checkI2C</a></div><div class="ttdeci">int checkI2C(uint8_t *addressArray)</div><div class="ttdoc">Check the I2C bus address.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01586">BK108X.cpp:1586</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_22ccd63b32a12b0c19294f50e69a6f91.html">BK108X</a></li><li class="navelem"><a class="el" href="dir_4d05ee8c91c3ddb199e26821c70d0061.html">src</a></li><li class="navelem"><a class="el" href="_b_k108_x_8cpp.html">BK108X.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
