<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PU2CLR BK108X Arduino Library: BK108X/BK108X.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PU2CLR BK108X Arduino Library
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">This is an Arduino Library to control the BK108X device</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_b_k108_x_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BK108X.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_b_k108_x_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @mainpage BK108X Arduino Library implementation </span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @details BK108X Arduino Library implementation. This is an Arduino library for the BK108X, BROADCAST RECEIVER.  </span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * @details This is an Arduino library for the BK1086 and BK1088 DSP BROADCAST RECEIVER.&lt;br&gt;  </span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @details It works with I2C protocol and can provide an easier interface for controlling the BK1086/88 devices.&lt;br&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @details This library is based on BEKEN - BK1086/88 - BROADCAST AM/FM/SW/LW RADIO RECEIVER manual. </span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * __THIS LIBRARY IS UNDER CONSTRUCTION.....___</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This library can be freely distributed using the MIT Free Software model.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Copyright (c) 2020 Ricardo Lima Caratti.  </span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Contact: pu2clr@gmail.com </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&lt;</span><span class="preprocessor">BK108X</span><span class="preprocessor">.</span><span class="preprocessor">h</span><span class="preprocessor">&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/** </span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * @defgroup GA02 BEKEN I2C BUS </span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * @section GA02 I2C</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * @brief About I2C Address on BK1086/88 and Arduino platform</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * The BK1086/88 Datasheet says that the I2C buss address is 0x80. However, the Wire (I2C) Arduino library does not find </span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * the device on 0x80. Actually the Arduino finds the device on 0x40.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * This must be due to the internal conversion of the address from 8 bits to 7 bits. (0x80 = 0b10000000; 0x40 = 0b01000000)</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * After a few unsuccessful attempts at using the Arduino I2C library, I decided to write the necessary I2C routines to deal </span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * with BK1086/88 device. </span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * @see setI2C, i2cInit, i2cStart, i2cEndTransaction(), i2cAck, i2cNack, i2cReceiveAck, i2cWriteByte, i2cReadByte, writeRegister, readRegister</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * IMPORTANT: </span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * For stable communication, the rising edge time of SCLK should be less than 200ns.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * @brief Sets I2C bus address </span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * @details Useful if some release of BEKEN device is different of 0x80. </span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * @param i2c_addr </span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group___g_a02.html#gabb521f2af588ce1c94755bd2525f32c9">   42</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#gabb521f2af588ce1c94755bd2525f32c9">setI2C</a>(uint8_t i2c_addr) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">this</span>-&gt;deviceAddress = i2c_addr;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * @brief Sets the MCU pins connected to the I2C bus </span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * @details Configures the I2C bus for BK108X</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * @param pin_sdio SDA/SDIO MCU/Arduino pin</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * @param pin_sclk CLK/SCLK MCU/Arduino pin </span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">   54</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">i2cInit</a>(<span class="keywordtype">int</span> pin_sdio, <span class="keywordtype">int</span> pin_sclk){</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">this</span>-&gt;pin_sdio = pin_sdio;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">this</span>-&gt;pin_sclk = pin_sclk;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * @brief Starts the I2C bus transaction  </span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">   63</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">i2cBeginTransaction</a>()</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    pinMode(<span class="keyword">this</span>-&gt;pin_sdio, OUTPUT);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    pinMode(<span class="keyword">this</span>-&gt;pin_sclk, OUTPUT);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, LOW);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> * @brief Finish the I2C bus  transaction</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">   82</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">i2cEndTransaction</a>()</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, LOW);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> * @brief Sends Acknowledge (ACK)</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> * @details Each byte of data (including the address byte) have to be followed by one ACK bit from the receiver.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> * @details The ACK bit allows the receiver to communicate to the transmitter.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * @see https://www.ti.com/lit/an/slva704/slva704.pdf</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">  102</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">i2cAck</a>()</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, LOW);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"> * @brief Sends Not Acknowledge (ACK)</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"> * @see https://www.ti.com/lit/an/slva704/slva704.pdf</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">  118</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">i2cNack</a>()</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, HIGH);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> * @brief Gets Acknowledge (ACK)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> * @see https://www.ti.com/lit/an/slva704/slva704.pdf</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> * @return ack value</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">  136</a></span>&#160;<a class="code" href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">uint8_t</a> BK108X::<a class="code" href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">i2cReceiveAck</a>()</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    uint8_t ack;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    pinMode(pin_sdio, INPUT);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    ack = digitalRead(<span class="keyword">this</span>-&gt;pin_sdio);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> ack;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"> * @brief Sends a Byte to the slave device</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"> * @param data to be sent to the slave device</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga9f97140ef586e3fbf52b482bfae94d9c">  158</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#ga9f97140ef586e3fbf52b482bfae94d9c">i2cWriteByte</a>( uint8_t data)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    pinMode(pin_sdio, OUTPUT);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        digitalWrite(<span class="keyword">this</span>-&gt;pin_sdio, (<span class="keywordtype">bool</span>)(data &amp; <span class="keyword">this</span>-&gt;deviceAddress) );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        delayMicroseconds(1);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        delayMicroseconds(1);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        data = data &lt;&lt; 1;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"> * @brief Gets a Byte from the slave device</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"> * @return value read from the device</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">  180</a></span>&#160;<a class="code" href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">uint8_t</a> BK108X::<a class="code" href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">i2cReadByte</a>()</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    uint8_t value = 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    pinMode(pin_sdio, INPUT);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    delayMicroseconds(1);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, HIGH);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        value = value &lt;&lt; 1;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        delayMicroseconds(1);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> ( digitalRead(<span class="keyword">this</span>-&gt;pin_sdio) )</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            value = value | 1;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        digitalWrite(<span class="keyword">this</span>-&gt;pin_sclk, LOW);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        delayMicroseconds(1);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> * @brief Sends an array of values to a BK108X given register</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> * @param reg register to be written</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> * @param value content to be stored into the register</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="group___g_a02.html#gaaa412587cacee78fdb6da296d97c9c74">  207</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a02.html#gaaa412587cacee78fdb6da296d97c9c74">writeRegister</a>(uint8_t reg, uint16_t value) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    word16_to_bytes data;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    data.raw = value;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">-&gt;</a><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">i2cBeginTransaction</a><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">(</a><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">)</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">this</span>-&gt;i2cWriteByte(<span class="keyword">this</span>-&gt;deviceAddress);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    reg = reg &lt;&lt; 1; <span class="comment">// Converts address and sets to write operation</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">this</span>-&gt;i2cWriteByte(reg);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">this</span>-&gt;i2cWriteByte(data.refined.highByte);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keyword">this</span>-&gt;i2cWriteByte(data.refined.lowByte);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">-&gt;</a><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">i2cEndTransaction</a><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">(</a><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">)</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"> * @ingroup GA02</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"> * @brief Gets an array of values from a BK108X given register</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"> * @param reg register to be read</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * @return register content</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">  235</a></span>&#160;<a class="code" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">uint16_t</a> BK108X::<a class="code" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">readRegister</a>(<a class="code" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">uint8_t</a> <a class="code" href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">reg</a>) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    word16_to_bytes data;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">-&gt;</a><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">i2cBeginTransaction</a><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">(</a><a class="code" href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">)</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">this</span>-&gt;i2cWriteByte(<span class="keyword">this</span>-&gt;deviceAddress);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    reg = (reg &lt;&lt; 1) | 1;  <span class="comment">// Converts address and sets to read operation</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">this</span>-&gt;i2cWriteByte(reg);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">this</span>-&gt;i2cReceiveAck();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    data.refined.highByte = <span class="keyword">this</span>-&gt;i2cReadByte();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">-&gt;</a><a class="code" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">i2cAck</a><a class="code" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">(</a><a class="code" href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">)</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    data.refined.lowByte = <span class="keyword">this</span>-&gt;i2cReadByte();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">-&gt;</a><a class="code" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">i2cNack</a><a class="code" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">(</a><a class="code" href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">)</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">-&gt;</a><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">i2cEndTransaction</a><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">(</a><a class="code" href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">)</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">return</span> data.raw;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/** </span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * @defgroup GA03 Basic Functions</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> * @section GA03 Basic</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> * @brief Gets a givens current register content of the device</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> * @see shadowRegisters;  </span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> * @param device register address</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"> * @return the register content (the shadowRegisters array has this content. So, you do not need to use it most of the cases)</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">  271</a></span>&#160;<a class="code" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">uint16_t</a> BK108X::<a class="code" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">getRegister</a>(<a class="code" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">uint8_t</a> <a class="code" href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">reg</a>)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    uint16_t reg_content;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    reg_content = <span class="keyword">this</span>-&gt;readRegister(reg);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    shadowRegisters[reg] = reg_content; <span class="comment">// Syncs with the shadowRegisters</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> reg_content;                 <span class="comment">// Optional</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"> * @brief   Sets a given value to the device registers </span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> * @details For write operations, the device acknowledge is followed by an eight bit data word latched internally on rising edges of SCLK. The device acknowledges each byte of data written by driving SDIO low after the next falling SCLK edge, for 1 cycle.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> * @details An internal address counter automatically increments to allow continuous data byte writes, starting with the upper byte of register 02h, followed by the lower byte of register 02h, and onward until the lower byte of the last register is reached. The internal address counter then automatically wraps around to the upper byte of register 00h and proceeds from there until continuous writes end.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"> * @details The registers from 0x2 to 0x07 are used to setup the device. This method writes the array  shadowRegisters, elements 8 to 14 (corresponding the registers 0x2 to 0x7 respectively)  into the device. See Device registers map  in BK108X.h file.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"> * @details To implement this, a register maping was created to deal with each register structure. For each type of register, there is a reference to the array element. </span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"> *  </span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> * @see shadowRegisters; </span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> * @param device register address</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="group___g_a03.html#gadc64097823fe26425a420270562cfc34">  291</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gadc64097823fe26425a420270562cfc34">setRegister</a>(uint8_t reg, uint16_t value)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">this</span>-&gt;writeRegister(reg, value);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    shadowRegisters[reg] = value;  <span class="comment">// Syncs with the shadowRegisters</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    delayMicroseconds(250);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> * @brief Returns the Device Indentifiction</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> * @return device id </span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">  302</a></span>&#160;<a class="code" href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">uint16_t</a> BK108X::<a class="code" href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">getDeviceId</a>()</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> getRegister(<a class="code" href="_b_k108_x_8h.html#a748ad53bef975af9c1edbcacc58e5be4">REG00</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> * @brief Returns the Chip Indentifiction</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> * @return IC id</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">  312</a></span>&#160;<a class="code" href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">uint16_t</a> BK108X::<a class="code" href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">getChipId</a>()</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> getRegister(<a class="code" href="_b_k108_x_8h.html#afc04faecdab9e0d1751466b6c53fdaf1">REG01</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> * @brief  Gets the current status (register 0x0A) content</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * @details You can use this function when you need to get more than one status attribute at once.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> * @details See example code below.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * @code </span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> * bk_reg0a status = getStatus();</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> * Serial.println(status.refined.ST);   // Stereo Signal Received Indicator </span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"> * Serial.println(status.refined.RSSI); // Current RSSI value </span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> * Serial.println(status.refined.RDSR); // RDS Ready Indicator</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * @endcode</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * @see getRSSI</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> * @see BK1086/88E - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 17. </span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> * @return  bk_reg0a data type status register (Register 0Ah. Status2)</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga759a835f25ca7ce2c861cc5b3cf1abb8">  336</a></span>&#160;bk_reg0a BK108X::<a class="code" href="group___g_a03.html#ga759a835f25ca7ce2c861cc5b3cf1abb8">getStatus</a>()</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    bk_reg0a tmp;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    tmp.raw = getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>); <span class="comment">// update the reg0a shadow register</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * @brief   Wait STC (Seek/Tune Complete) status becomes 0</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> * @details Should be used before processing Tune or Seek.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> * @details The STC bit being cleared indicates that the TUNE or SEEK bits may be set again to start another tune or seek operation. Do not set the TUNE or SEEK bits until the BK108X clears the STC bit. </span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">  351</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">waitAndFinishTune</a>()</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">while</span> ( reg0a-&gt;refined.STC == 0) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        delay(10);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    delay(40);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * @brief Resets the device</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga0479b36a2d6558df557a3ba4a0d07ce2">  367</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga0479b36a2d6558df557a3ba4a0d07ce2">reset</a>()</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    reg02-&gt;refined.DISABLE = 1;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    reg02-&gt;refined.ENABLE = 0;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    reg02-&gt;refined.DISABLE = 0;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    reg02-&gt;refined.ENABLE = 1;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment"> * @brief Powers the receiver on </span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"> * @details Starts the receiver with some default configurations </span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">  382</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">powerUp</a>()</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Starts the mains register with default values suggested by BEKEN.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    reg02-&gt;raw = 0x0280;            <span class="comment">// Sets to 0 all attributes of the register 0x02 (Power Configuration)</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    reg02-&gt;refined.DISABLE = 0;     <span class="comment">// Force stereo</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    reg02-&gt;refined.ENABLE = 1;      <span class="comment">// Power the receiver UP (DISABLE has to be 0)</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>,reg02-&gt;raw);  <span class="comment">// Stores the register 0x02</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, 0x0000);     <span class="comment">// Sets to 0 all attributes of the register 0x03 (Channel)</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a88dee04c27a51e335798ab012dccbea1">REG04</a>, 0x60D4); <span class="comment">// 0b0110000011010100</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, 0x37CF); <span class="comment">// 0b0011011111001111</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>, 0x086F); <span class="comment">// 0b0000100001101111</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a>, 0x0101); <span class="comment">// 0b0000000100000001</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a96f1c217ac648e08bc64dd3b9086612c">REG08</a>, 0xAC90); <span class="comment">// 0b1010110010010000</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a4bfd6b226ed1e9858b3c1e8fc0a4137e">REG10</a>, 0x7B11); <span class="comment">// 0b0111101100010001</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a96ac68e41626933b41138548318e052b">REG11</a>, 0x004A); <span class="comment">// 0b0000000001001010</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a06bf525972f7b47f7683a0c37cfb2a70">REG12</a>, 0x4000); <span class="comment">// 0b0100000000000000</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a2c18d898fc24de24b8731e57c6a1924d">REG13</a>, 0x3E00); <span class="comment">// 0b0011111000000000</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a>, 0xC29A); <span class="comment">// 0b1100001010011010</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a3f7e2fe33fd2114b91fa653ba3fb932b">REG15</a>, 0x79F8); <span class="comment">// 0b0111100111111000</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a7f2f605c029c5c96fb06ecca2933dc67">REG16</a>, 0x4012); <span class="comment">// 0b0100000000010010</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a2d697bfd5ba8d3203a00b1eb40b2bf0f">REG17</a>, 0x0040);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac5d858df6fa437b9e2fdd74ed2bb027a">REG18</a>, 0x341C);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a575b918902872d95be6588c9732fd8bd">REG19</a>, 0x0080);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a5eeaea32c870a31999643b68ba6c9cdb">REG1A</a>, 0x0000);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a8928c3ceb92de4ff29e682dca2faa85e">REG1B</a>, 0x4CA2);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a615ce0ebc819ed8ea5f84d81e9d3c707">REG1C</a>, 0x8820);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a936c7bd27b99a90769f93ec3f004b3e0">REG1D</a>, 0x0200);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    delay(250);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> * @brief Powers the receiver off</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa3a8958cbfb9cac36c81ed9351b5b857">  424</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gaa3a8958cbfb9cac36c81ed9351b5b857">powerDown</a>()</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    reg02-&gt;refined.DISABLE = 1;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    reg02-&gt;refined.ENABLE = 0;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    delay(100);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> * @brief Starts the device </span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> * @details sets the reset pin, interrupt pins and oscillator type you are using in your project.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> * @details You have to inform at least two parameters: RESET pin and I2C SDA pin of your MCU</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> * @param rdsInterruptPin  // optional. Sets the Interrupt Arduino pin used to RDS function control.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> * @param seekInterruptPin // optional. Sets the Arduino pin used to Seek function control. </span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> * @param oscillator_type  // optional. Sets the Oscillator type used Crystal (default) or Ref. Clock. </span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga8d1b082b77d8b0cc7c0e6cb5cb489c80">  441</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga8d1b082b77d8b0cc7c0e6cb5cb489c80">setup</a>(<span class="keywordtype">int</span> sda_pin, <span class="keywordtype">int</span> sclk_pin, <span class="keywordtype">int</span> rdsInterruptPin, <span class="keywordtype">int</span> seekInterruptPin, uint8_t oscillator_type)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// Configures BEKEN I2C bus </span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">-&gt;</a><a class="code" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">i2cInit</a><a class="code" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">(</a>sda_pin<a class="code" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">,</a> sclk_pin<a class="code" href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">)</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (rdsInterruptPin &gt;= 0)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keyword">this</span><a class="code" href="group___g_a01.html#ab14e1e533462b60b82ff498dc15abbb1">-&gt;</a><a class="code" href="group___g_a01.html#ab14e1e533462b60b82ff498dc15abbb1">rdsInterruptPin</a> = rdsInterruptPin;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (seekInterruptPin &gt;= 0)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keyword">this</span><a class="code" href="group___g_a01.html#a68b0bac67680a37773d972c470716a37">-&gt;</a><a class="code" href="group___g_a01.html#a68b0bac67680a37773d972c470716a37">seekInterruptPin</a> = seekInterruptPin;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keyword">this</span>-&gt;oscillatorType = oscillator_type;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">powerUp</a><a class="code" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">(</a><a class="code" href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">)</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> * @brief Sets the receiver to FM mode</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"> * @details Configures the receiver on FM mode; Also sets the band limits, defaul frequency and step.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * @param minimum_frequency  minimum frequency for the band</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> * @param maximum_frequency  maximum frequency for the band</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> * @param default_frequency  default freuency</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> * @param step  increment and decrement frequency step in KHz (default 10 * 10KHz)</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa6da4291400839ffc68ccff5e1ad7b13">  467</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gaa6da4291400839ffc68ccff5e1ad7b13">setFM</a>(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keyword">this</span>-&gt;currentStep = step;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keyword">this</span>-&gt;currentFrequency = default_frequency;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">this</span>-&gt;minimumFrequency = minimum_frequency;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">this</span>-&gt;maximumFrequency = maximum_frequency;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">this</span>-&gt;currentMode = <a class="code" href="_b_k108_x_8h.html#a46befaec21d3091b4530cdf8a6f93c55">MODE_FM</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    reg07-&gt;refined.MODE = <a class="code" href="_b_k108_x_8h.html#a46befaec21d3091b4530cdf8a6f93c55">MODE_FM</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a>, reg07-&gt;raw);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// Sets BAND, SPACE and other parameters</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keyword">this</span>-&gt;currentFMBand =  reg05-&gt;refined.BAND = 0;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">this</span>-&gt;currentFMSpace = reg05-&gt;refined.SPACE = 2;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    setFrequency(default_frequency);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;};</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * @brief Sets the receiver to AM mode</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> * @details Configures the receiver on AM mode; Also sets the band limits, defaul frequency and step.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> * @param minimum_frequency  minimum frequency for the band</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> * @param maximum_frequency  maximum frequency for the band</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> * @param default_frequency  default freuency</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> * @param step  increment and decrement frequency step</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga334ccbe40fcb5faa9e045288ca606f89">  495</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga334ccbe40fcb5faa9e045288ca606f89">setAM</a>(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step, uint16_t am_space)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keyword">this</span>-&gt;currentStep = step;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keyword">this</span>-&gt;currentFrequency = default_frequency;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keyword">this</span>-&gt;minimumFrequency = minimum_frequency;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keyword">this</span>-&gt;maximumFrequency = maximum_frequency;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keyword">this</span>-&gt;currentMode =  reg07-&gt;refined.MODE = <a class="code" href="_b_k108_x_8h.html#a27aa705095a6b6dad7db24441132f9bd">MODE_AM</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a>, reg07-&gt;raw);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// Sets BAND, SPACE and other parameters</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (minimum_frequency &lt; 520 )</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keyword">this</span>-&gt;currentAMBand = reg05-&gt;refined.BAND = 0;  <span class="comment">// LW</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (minimum_frequency &lt; 1800)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keyword">this</span>-&gt;currentAMBand = reg05-&gt;refined.BAND = 1;  <span class="comment">// MW</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keyword">this</span>-&gt;currentAMBand = reg05-&gt;refined.BAND = 2;  <span class="comment">// SW</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keyword">this</span>-&gt;currentAMSpace = reg05-&gt;refined.SPACE = am_space;    <span class="comment">// Space default value 0 (0=1KHz; 1 = 5KHz; 2=9KHz; 3 = 10KHz)</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">this</span>-&gt;setFrequency(default_frequency);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> * @brief Sets the channel </span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> * @param channel </span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa479240fcad272dc505ae50a6f4369d3">  527</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gaa479240fcad272dc505ae50a6f4369d3">setChannel</a>(uint16_t channel)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    reg02-&gt;refined.SEEK = 0;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>,reg02-&gt;raw);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    reg03-&gt;refined.TUNE = 1;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    reg03-&gt;refined.CHAN = channel;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>,reg03-&gt;raw);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    delay(50);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">waitAndFinishTune</a><a class="code" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">(</a><a class="code" href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">)</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keyword">this</span>-&gt;currentChannel = channel;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> * @brief Sets the FM frequency </span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> * @details ....</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * @param frequency  </span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga514242393caa2068d8acb3adec953832">  548</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga514242393caa2068d8acb3adec953832">setFrequency</a>(uint16_t frequency)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    uint16_t channel;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentMode == <a class="code" href="_b_k108_x_8h.html#a46befaec21d3091b4530cdf8a6f93c55">MODE_FM</a>) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        channel = (frequency - <span class="keyword">this</span>-&gt;fmStartBand[<span class="keyword">this</span>-&gt;currentFMBand]) /  <span class="keyword">this</span>-&gt;fmSpace[<span class="keyword">this</span>-&gt;currentFMSpace];</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        channel = (frequency - <span class="keyword">this</span>-&gt;amStartBand[<span class="keyword">this</span>-&gt;currentAMBand]) / <span class="keyword">this</span>-&gt;amSpace[<span class="keyword">this</span>-&gt;currentAMSpace];</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keyword">this</span>-&gt;setChannel(channel);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * @brief Increments the current frequency</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * @details The increment uses the band space as step. </span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="group___g_a03.html#gac0c265a916d7852d7e4977b1835098eb">  567</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gac0c265a916d7852d7e4977b1835098eb">setFrequencyUp</a>()</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;{</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keyword">this</span>-&gt;currentFrequency += <span class="keyword">this</span>-&gt;currentStep;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentFrequency &gt; <span class="keyword">this</span>-&gt;maximumFrequency )</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keyword">this</span>-&gt;currentFrequency = <span class="keyword">this</span>-&gt;minimumFrequency;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    setFrequency(<span class="keyword">this</span>-&gt;currentFrequency);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> * @brief Decrements the current frequency</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * @details The drecrement uses the band space as step.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga5bf724e36f2dbdc826c387601e00ace1">  582</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga5bf724e36f2dbdc826c387601e00ace1">setFrequencyDown</a>()</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keyword">this</span>-&gt;currentFrequency -= <span class="keyword">this</span>-&gt;currentStep;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentFrequency &lt; <span class="keyword">this</span>-&gt;minimumFrequency)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keyword">this</span>-&gt;currentFrequency = <span class="keyword">this</span>-&gt;maximumFrequency;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    setFrequency(<span class="keyword">this</span>-&gt;currentFrequency);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * @brief Gets the current frequency. </span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * @return uint16_t </span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">  597</a></span>&#160;<a class="code" href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">uint16_t</a> BK108X::<a class="code" href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">getFrequency</a>()</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>-&gt;currentFrequency;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"> * @brief Gets the current channel. </span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> * @return uint16_t </span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">  607</a></span>&#160;<a class="code" href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">uint16_t</a> BK108X::<a class="code" href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">getChannel</a>()</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>-&gt;currentChannel;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * @brief Gets the current channel stored in register 0x0B</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> * @details This method is useful to query the current channel during the seek operations. </span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> * @return uint16_t </span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">  618</a></span>&#160;<a class="code" href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">uint16_t</a> BK108X::<a class="code" href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">getRealChannel</a>()</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    getRegister(<a class="code" href="_b_k108_x_8h.html#a76c73d8e23848f8d73679450c2d7264b">REG0B</a>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> reg0b-&gt;refined.READCHAN;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"> * @brief Gets the frequency based on READCHAN register (0x0B)</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"> * @details Unlike getFrequency method, this method queries the device. </span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment"> * @return uint16_t </span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">  631</a></span>&#160;<a class="code" href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">uint16_t</a> BK108X::<a class="code" href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">getRealFrequency</a>()</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">if</span> (currentMode == <a class="code" href="_b_k108_x_8h.html#a27aa705095a6b6dad7db24441132f9bd">MODE_AM</a>) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">return</span> getRealChannel() * <span class="keyword">this</span>-&gt;amSpace[<span class="keyword">this</span>-&gt;currentAMSpace] + <span class="keyword">this</span>-&gt;amStartBand[<span class="keyword">this</span>-&gt;currentAMBand];</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">return</span> getRealChannel() * <span class="keyword">this</span>-&gt;fmSpace[<span class="keyword">this</span>-&gt;currentFMSpace] + <span class="keyword">this</span>-&gt;fmStartBand[<span class="keyword">this</span>-&gt;currentFMBand];</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"> * @todo it is not working properly</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"> * @brief Seeks a station via Software </span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"> * @details Seeks a station up or down.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> * @details Seek up or down a station and call a function defined by the user to show the frequency during the seek process. </span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> * @details Seek begins at the current channel, and goes in the direction specified with the SEEKUP bit. Seek operation stops when a channel is qualified as valid according to the seek parameters, the entire band has been searched (SKMODE = 0), or the upper or lower band limit has been reached (SKMODE = 1).</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"> * @details The STC bit is set high when the seek operation completes and/or the SF/BL bit is set high if the seek operation was unable to find a channel qualified as valid according to the seek parameters. The STC and SF/BL bits must be set low by setting the SEEK bit low before the next seek or tune may begin.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"> * @details Seek performance for 50 kHz channel spacing varies according to RCLK tolerance. Silicon Laboratories recommends 50 ppm RCLK crystal tolerance for 50 kHz seek performance.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> * @details A seek operation may be aborted by setting SEEK = 0.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> * @details It is important to say you have to implement a show frequency function. This function have to get the frequency via getFrequency function.  </span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"> * @details Example:</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"> * @code</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> * BK108X rx;</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment"> * void showFrequency() {</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"> *    uint16_t freq = rx.getFrequency();</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"> *    Serial.print(freq); </span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"> *    Serial.println(&quot;MHz &quot;);</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment"> * }</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"> * void loop() {</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment"> *  .</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"> *  .</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"> *      rx.seek(BK_SEEK_WRAP, BK_SEEK_UP, showFrequency); // Seek Up</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment"> *  .</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"> *  .</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment"> * }</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> * @endcode</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> * @param seek_mode  Seek Mode; 0 = Wrap at the upper or lower band limit and continue seeking (default); 1 = Stop seeking at the upper or lower band limit.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> * @param direction  Seek Direction; 0 = Seek down (default); 1 = Seek up.</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> * @param showFunc  function that you have to implement to show the frequency during the seeking process. Set NULL if you do not want to show the progress. </span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga137b126f37f177a7c3928c5755d99757">  676</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga137b126f37f177a7c3928c5755d99757">seekSoftware</a>(uint8_t seek_mode, uint8_t direction, <span class="keywordtype">void</span> (*showFunc)())</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordtype">long</span> max_time = millis();</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// reg06-&gt;refined.SKSNR = 9;</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// setRegister(REG06,reg06-&gt;raw);</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    delay(50);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        reg02-&gt;refined.SKMODE = seek_mode;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        reg02-&gt;refined.SEEKUP = direction;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        reg02-&gt;refined.SEEK = 1;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        delay(50);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">if</span> (showFunc != NULL)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            showFunc();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    } <span class="keywordflow">while</span> ( (!reg0a-&gt;refined.STC &amp;&amp; reg0a-&gt;refined.SF_BL)  &amp;&amp; (millis() - max_time) &lt; <a class="code" href="_b_k108_x_8h.html#acc98e8d3badddd21bc528451bb718f82">MAX_SEEK_TIME</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    reg02-&gt;refined.SEEK = 0;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"> * @todo It is not working properly. </span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"> * @brief Seeks a station via hardware functionality </span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment"> * @param seek_mode  Seek Mode; 0 = Wrap at the upper or lower band limit and continue seeking (default); 1 = Stop seeking at the upper or lower band limit.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"> * @param direction  Seek Direction; 0 = Seek down (default); 1 = Seek up.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00718"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaf7b86960d2bfd182600cb4a4308eb9ab">  718</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gaf7b86960d2bfd182600cb4a4308eb9ab">seekHardware</a>(uint8_t seek_mode, uint8_t direction) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">char</span> aux[100];</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    reg03-&gt;refined.TUNE = 0;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a>, reg03-&gt;raw);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    reg02-&gt;refined.SKMODE = seek_mode;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    reg02-&gt;refined.SEEKUP = direction;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    reg02-&gt;refined.SKAFCRL = 1;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        reg02-&gt;refined.SEEK = 1;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        delay(40);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">while</span> (reg0a-&gt;refined.STC == 0 )</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            delay(10);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    } <span class="keywordflow">while</span> ( reg0a-&gt;refined.SF_BL != 0 );</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    reg02-&gt;refined.SEEK = 0;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    delay(50);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keyword">this</span>-&gt;setChannel(<span class="keyword">this</span>-&gt;getRealChannel());</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keyword">this</span>-&gt;currentFrequency = getRealFrequency();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"> * @brief Sets RSSI and SNR Seek Threshold</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"> * @param  rssiValue between 0 and 127</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"> * @param  snrValue between 0 and 127</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga2d2a246c4d65dfbf93b5660a500c74c3">  755</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga2d2a246c4d65dfbf93b5660a500c74c3">setSeekThreshold</a>(uint8_t rssiValue, uint8_t snrValue)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;{</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    reg05-&gt;refined.SEEKTH = rssiValue;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>,reg05-&gt;raw);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    reg06-&gt;refined.SKSNR = snrValue;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>,reg06-&gt;raw);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"> * @brief Sets the current band for AM or FM  </span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"> * @details Configures the band by setting the Register 05h. System Configuration2</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment"> * | Band value |  AM / KHz      |  FM / MHz           | </span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"> * | ---------- | -------------- | ------------------- | </span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment"> * |    0       | LW - 153~279   | FULL - 64~108       |</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment"> * |    1       | MW - 520~1710  | East Europe 64~76   | </span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"> * |    2       | SW - 2.3~21.85 | Japan 76~91         | </span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment"> * |    3       | MW - 522~1710  | Europe 87~108       | </span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"> * @see BK1086/88E - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 15</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment"> * @param band  the valid values are 0, 1, 2 and 3. See table above.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga528a4c6c6a343c3b7ae95331bb4316ce">  780</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga528a4c6c6a343c3b7ae95331bb4316ce">setBand</a>(uint8_t band)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;{</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentMode == <a class="code" href="_b_k108_x_8h.html#a27aa705095a6b6dad7db24441132f9bd">MODE_AM</a> )</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keyword">this</span>-&gt;currentAMBand = band;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keyword">this</span>-&gt;currentFMBand = band;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    reg05-&gt;refined.BAND = band;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>,reg05-&gt;raw);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> * @brief Sets the Space channel  for AM or FM</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> * | Band value |  AM      | FM        | </span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment"> * | ---------- | ---------| --------- | </span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment"> * |    0       |  1 KHz  |   10 KHz   |</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"> * |    1       |  5 KKz  |   50 KHz   | </span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment"> * |    2       |  9 KHz  |  100 KHz   | </span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"> * |    3       | 10 KHz  |  200 KHz   | </span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"> * @see BK1086/88E - BROADCAST AM/FM/SW/LW RADIO RECEIVER Rev 1.3; page 15</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment"> * @param space valid values 0,1,2 and 3. See table above.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga0e3272d62ec11f91251569e422cd4c58">  805</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga0e3272d62ec11f91251569e422cd4c58">setSpace</a>(uint8_t space)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentMode == <a class="code" href="_b_k108_x_8h.html#a27aa705095a6b6dad7db24441132f9bd">MODE_AM</a> )</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keyword">this</span>-&gt;currentAMSpace = space;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keyword">this</span>-&gt;currentFMSpace = space;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    reg05-&gt;refined.SPACE = space;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>, reg05-&gt;raw);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment"> * @brief Gets the current Rssi</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * @return int </span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="group___g_a03.html#gad8ecfa1da87d3ca51f735d7f921706bf">  822</a></span>&#160;<span class="keywordtype">int</span> BK108X::<a class="code" href="group___g_a03.html#gad8ecfa1da87d3ca51f735d7f921706bf">getRssi</a>()</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;{</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">return</span> reg0a-&gt;refined.RSSI;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;}</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"> * @brief Gets the current SNR</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment"> * @return int  The SNR Value.( in dB)</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga378780ca51288b4cf94d6820704023fd">  834</a></span>&#160;<span class="keywordtype">int</span> BK108X::<a class="code" href="group___g_a03.html#ga378780ca51288b4cf94d6820704023fd">getSnr</a>()</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    getRegister(<a class="code" href="_b_k108_x_8h.html#a48be4d4aa3bde15da7a8145c0f64fd7f">REG09</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span> reg09-&gt;refined.SNR;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"> * @brief Sets the Softmute true or false</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"> * @details Enable or Disable Soft Mute resource.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment"> * @param value  TRUE or FALSE</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="group___g_a03.html#gadc619921201fc61cbba07be8e24b2aff">  846</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gadc619921201fc61cbba07be8e24b2aff">setSoftmute</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    reg02-&gt;refined.DSMUTE = !value;  <span class="comment">// Soft mute TRUE/ENABLE means DSMUTE = 0. </span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>,reg02-&gt;raw);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment"> * @brief Sets Softmute Attack/Recover Rate.</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment"> * Soft mute Attack/Recover </span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment"> * | Value | Description | </span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment"> * | ----- | ----------- | </span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment"> * | 0     | fastest |</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment"> * | 1     | fast    | </span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment"> * | 2     | slow    | </span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment"> * | 3     | slowest | </span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"> * @param value  See table above. </span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="group___g_a03.html#gacc64d8615a589955d46dd6b09de73740">  867</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gacc64d8615a589955d46dd6b09de73740">setSoftmuteAttack</a>(uint8_t value)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    reg06-&gt;refined.SMUTER = value;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>,reg06-&gt;raw);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"> * @brief Sets  Softmute Attenuation.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"> * Soft mute Attenuation.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment"> * | Value | Description | </span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment"> * | ----- | ----------- | </span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment"> * | 0     | fastest |</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"> * | 1     | fast    | </span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment"> * | 2     | slow    | </span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment"> * | 3     | slowest | </span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment"> * @param value See table above</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga4b7e8a8515e5afecd46a18c0a4dfe023">  886</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga4b7e8a8515e5afecd46a18c0a4dfe023">setSoftmuteAttenuation</a>(uint8_t value)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;{</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    reg06-&gt;refined.SMUTEA = value;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a>, reg06-&gt;raw);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"> * @brief Sets the AGC enable or disable</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment"> * @param value true = enable; fale = disable</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga8c11bdd0e24365b242a9929238195a58">  897</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga8c11bdd0e24365b242a9929238195a58">setAgc</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;{</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;}</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment"> * @brief Sets the Mute true or false</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"> * @param left left channel (TRUE = MUTE/ FALSE = UNMUTE)</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"> * @param left right channel (TRUE = MUTE / FALSE = UMUTE)</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">  909</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">setAudioMute</a>(<span class="keywordtype">bool</span> left, <span class="keywordtype">bool</span> right)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;{</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    reg02-&gt;refined.MUTEL = left;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    reg02-&gt;refined.MUTER = right;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>, reg02-&gt;raw);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"> * @brief Sets the Mute true or false</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"> * @param value left and right channels (TRUE = MUTE/ FALSE = UNMUTE)</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00922"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga62f9f2a5d84230b5f62be82d5514e86f">  922</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga62f9f2a5d84230b5f62be82d5514e86f">setAudioMute</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keyword">this</span><a class="code" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">-&gt;</a><a class="code" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">setAudioMute</a><a class="code" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">(</a>value<a class="code" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">,</a>value<a class="code" href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">)</a>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment"> * @brief Sets the Mono true or false (stereo)</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment"> * @details if TRUE, force mono; else force stereo</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment"> * @param value TRUE or FALSE</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="group___g_a03.html#gabc3b9000cc833cfbec7cf1edc03ef674">  933</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gabc3b9000cc833cfbec7cf1edc03ef674">setMono</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;{</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  reg02-&gt;refined.MONO = value;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  reg02-&gt;refined.STEREO = !value;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  setRegister(<a class="code" href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a>,reg02-&gt;raw);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment"> * @brief Checks stereo / mono status</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"> * @see getStatus</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment"> * @param value TRUE if stereo</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga83b36ff59c25663df3194c49747e6fe7">  947</a></span>&#160;<span class="keywordtype">bool</span> BK108X::<a class="code" href="group___g_a03.html#ga83b36ff59c25663df3194c49747e6fe7">isStereo</a>()</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;{</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">return</span> reg0a-&gt;refined.ST;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment"> * @brief Sets the audio volume level</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment"> * @param value  0 to 31 (if 0, mutes the audio)</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="group___g_a03.html#gaa91f9b57fb80f9411f97755d15e7d808">  959</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gaa91f9b57fb80f9411f97755d15e7d808">setVolume</a>(uint8_t value)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;{</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> ( value &gt; 31) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keyword">this</span>-&gt;currentVolume = value;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">// reg05 is a shadow register and has the last value read or written from/to the internal device register</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    reg05-&gt;refined.VOLUME = value;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a>,reg05-&gt;raw);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"> * @brief Gets the current audio volume level</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment"> * @return uint8_t  0 to 15</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">  975</a></span>&#160;<a class="code" href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">uint8_t</a> BK108X::<a class="code" href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">getVolume</a>()</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;{</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>-&gt;currentVolume;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment"> * @brief Increments the audio volume</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="group___g_a03.html#ga89438602c507ba477aaa626999210b7e">  985</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#ga89438602c507ba477aaa626999210b7e">setVolumeUp</a>()</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;{</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentVolume &lt; 31)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keyword">this</span>-&gt;currentVolume++;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        setVolume(<span class="keyword">this</span>-&gt;currentVolume);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment"> * @ingroup GA03</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment"> * @brief Decrements the audio volume</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="group___g_a03.html#gac2cf423a3eeee3213a3c7c73a8316f8a">  999</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a03.html#gac2cf423a3eeee3213a3c7c73a8316f8a">setVolumeDown</a>()</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;{</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span>-&gt;currentVolume &gt; 0)</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keyword">this</span>-&gt;currentVolume--;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        setVolume(<span class="keyword">this</span>-&gt;currentVolume);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">/** </span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment"> * @defgroup GA04 RDS Functions</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment"> * @section GA04 RDS/RBDS</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment"> * @brief Gets the RDS registers information</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment"> * @details Gets the value of the registers from 0x0A to 0x0F</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment"> * @details This function also updates the value of shadowRegisters[0];</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment"> * @return bk_reg0a </span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="group___g_a04.html#gade944541df0205f7a7bb6335ae25c211"> 1022</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a04.html#gade944541df0205f7a7bb6335ae25c211">getRdsStatus</a>()</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;{</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;}</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment"> * @brief Sets the Rds Mode Standard or Verbose</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment"> * @param rds_mode  0 = Standard (default); 1 = Verbose</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"><a class="line" href="group___g_a04.html#gadb237cc8ad191804af5de514a5610fd9"> 1033</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a04.html#gadb237cc8ad191804af5de514a5610fd9">setRdsMode</a>(uint8_t rds_mode)</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;{</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment"> * @brief Sets the RDS operation </span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment"> * @details Enable or Disable the RDS</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment"> * @param true = turns the RDS ON; false  = turns the RDS OFF</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="group___g_a04.html#gadc61ebb78e49b6bfc9aa6eadc98363a5"> 1045</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a04.html#gadc61ebb78e49b6bfc9aa6eadc98363a5">setRds</a>(<span class="keywordtype">bool</span> value)</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;{</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    reg04-&gt;refined.RDSEN = value;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    setRegister(<a class="code" href="_b_k108_x_8h.html#a88dee04c27a51e335798ab012dccbea1">REG04</a>,reg04-&gt;raw);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment"> * @brief Returns true if RDS Ready</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment"> * @details Read address 0Ah and check the bit RDSR.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment"> * @details If in verbose mode, the BLERA bits indicate how many errors were corrected in block A. If BLERA indicates 6 or more errors, the data in RDSA should be discarded.</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment"> * @details When using the polling method, it is best not to poll continuously. The data will appear in intervals of ~88 ms and the RDSR indicator will be available for at least 40 ms, so a polling rate of 40 ms or less should be sufficient.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment"> * @return true </span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment"> * @return false </span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307"> 1062</a></span>&#160;<span class="keywordtype">bool</span> BK108X::<a class="code" href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">getRdsReady</a>()</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    getRegister(<a class="code" href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">return</span> reg0a-&gt;refined.RDSR;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;};</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment"> * @brief Returns the current Text Flag A/B  </span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment"> * @return uint8_t current Text Flag A/B  </span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga8be7187079334991c12934087e7d826c"> 1075</a></span>&#160;<a class="code" href="group___g_a04.html#ga8be7187079334991c12934087e7d826c">uint8_t</a> BK108X::<a class="code" href="group___g_a04.html#ga8be7187079334991c12934087e7d826c">getRdsFlagAB</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment"> * @brief Return the group type </span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment"> * @return uint16_t </span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758"> 1086</a></span>&#160;<a class="code" href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758">uint16_t</a> BK108X::<a class="code" href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758">getRdsGroupType</a>()</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;{</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment"> * @brief Gets the version code (extracted from the Block B)</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"> * @returns  0=A or 1=B</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6"> 1097</a></span>&#160;<a class="code" href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6">uint8_t</a> BK108X::<a class="code" href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6">getRdsVersionCode</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">/**  </span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"> * @ingroup GA04  </span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment"> * @brief Returns the Program Type (extracted from the Block B)</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"> * @see https://en.wikipedia.org/wiki/Radio_Data_System</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"> * @return program type (an integer betwenn 0 and 31)</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e"> 1108</a></span>&#160;<a class="code" href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e">uint8_t</a> BK108X::<a class="code" href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e">getRdsProgramType</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;{</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment"> * @brief Process data received from group 2B</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"> * @param c  char array reference to the &quot;group 2B&quot; text </span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940"> 1119</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">getNext2Block</a>(<span class="keywordtype">char</span> *c)</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;{</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;}</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment"> * @brief Process data received from group 2A</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment"> * @param c  char array reference to the &quot;group  2A&quot; text </span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd"> 1131</a></span>&#160;<span class="keywordtype">void</span> BK108X::<a class="code" href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">getNext4Block</a>(<span class="keywordtype">char</span> *c)</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;{</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment"> * @brief Gets the RDS Text when the message is of the Group Type 2 version A</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment"> * @return char*  The string (char array) with the content (Text) received from group 2A </span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga29cf3c40f585f958c3a00836d438e94a"> 1142</a></span>&#160;<span class="keywordtype">char</span> *BK108X::<a class="code" href="group___g_a04.html#ga29cf3c40f585f958c3a00836d438e94a">getRdsText</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;{</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment"> * @todo RDS Dynamic PS or Scrolling PS support</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"> * @brief Gets the station name and other messages. </span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"> * @return char* should return a string with the station name. </span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment"> *         However, some stations send other kind of messages</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32"> 1155</a></span>&#160;<span class="keywordtype">char</span> *BK108X::<a class="code" href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">getRdsText0A</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;{</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment"> * @ingroup @ingroup GA04</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment"> * @brief Gets the Text processed for the 2A group</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment"> * @return char* string with the Text of the group A2  </span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f"> 1167</a></span>&#160;<span class="keywordtype">char</span> *BK108X::<a class="code" href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">getRdsText2A</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;{</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment"> * @ingroup GA04</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment"> * @brief Gets the Text processed for the 2B group</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment"> * @return char* string with the Text of the group AB  </span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c"> 1177</a></span>&#160;<span class="keywordtype">char</span> *BK108X::<a class="code" href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">getRdsText2B</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;{</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;}</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment"> * @ingroup GA04 </span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment"> * @brief Gets the RDS time and date when the Group type is 4 </span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment"> * @return char* a string with hh:mm +/- offset</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4"> 1187</a></span>&#160;<span class="keywordtype">char</span> *BK108X::<a class="code" href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">getRdsTime</a>()</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment"> * @ingroup GA04 </span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment"> * @brief Get the Rds Sync </span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment"> * @details Returns true if RDS currently synchronized.</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment"> * @return true or false</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="group___g_a04.html#gace7a6e83ef173bcf9e26b129df416c9c"> 1198</a></span>&#160;<span class="keywordtype">bool</span> BK108X::<a class="code" href="group___g_a04.html#gace7a6e83ef173bcf9e26b129df416c9c">getRdsSync</a>()</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;{</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="a_b_k108_x_8h_html_a96f1c217ac648e08bc64dd3b9086612c"><div class="ttname"><a href="_b_k108_x_8h.html#a96f1c217ac648e08bc64dd3b9086612c">REG08</a></div><div class="ttdeci">#define REG08</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00061">BK108X.h:61</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga29cf3c40f585f958c3a00836d438e94a"><div class="ttname"><a href="group___g_a04.html#ga29cf3c40f585f958c3a00836d438e94a">BK108X::getRdsText</a></div><div class="ttdeci">char * getRdsText(void)</div><div class="ttdoc">Gets the RDS Text when the message is of the Group Type 2 version A.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01142">BK108X.cpp:1142</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ad34d16e8c104c88c8fb1ce1195cfed14"><div class="ttname"><a href="_b_k108_x_8h.html#ad34d16e8c104c88c8fb1ce1195cfed14">REG14</a></div><div class="ttdeci">#define REG14</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00073">BK108X.h:73</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa6da4291400839ffc68ccff5e1ad7b13"><div class="ttname"><a href="group___g_a03.html#gaa6da4291400839ffc68ccff5e1ad7b13">BK108X::setFM</a></div><div class="ttdeci">void setFM(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step)</div><div class="ttdoc">Sets the receiver to FM mode.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00467">BK108X.cpp:467</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ac5d858df6fa437b9e2fdd74ed2bb027a"><div class="ttname"><a href="_b_k108_x_8h.html#ac5d858df6fa437b9e2fdd74ed2bb027a">REG18</a></div><div class="ttdeci">#define REG18</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00077">BK108X.h:77</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gafbe95dfa30734cd6c30f5d6ea77089c9"><div class="ttname"><a href="group___g_a02.html#gafbe95dfa30734cd6c30f5d6ea77089c9">BK108X::i2cInit</a></div><div class="ttdeci">void i2cInit(int pin_sdio, int pin_sclk)</div><div class="ttdoc">Sets the MCU pins connected to the I2C bus.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00054">BK108X.cpp:54</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga6521ba6b192db9370203d6672178d47e"><div class="ttname"><a href="group___g_a02.html#ga6521ba6b192db9370203d6672178d47e">BK108X::readRegister</a></div><div class="ttdeci">uint16_t readRegister(uint8_t reg)</div><div class="ttdoc">Gets an array of values from a BK108X given register.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00235">BK108X.cpp:235</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga528a4c6c6a343c3b7ae95331bb4316ce"><div class="ttname"><a href="group___g_a03.html#ga528a4c6c6a343c3b7ae95331bb4316ce">BK108X::setBand</a></div><div class="ttdeci">void setBand(uint8_t band=1)</div><div class="ttdoc">Sets the current band for AM or FM</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00780">BK108X.cpp:780</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga83b36ff59c25663df3194c49747e6fe7"><div class="ttname"><a href="group___g_a03.html#ga83b36ff59c25663df3194c49747e6fe7">BK108X::isStereo</a></div><div class="ttdeci">bool isStereo()</div><div class="ttdoc">Checks stereo / mono status.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00947">BK108X.cpp:947</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga06f919a6698c0dee4181200222e088c2"><div class="ttname"><a href="group___g_a03.html#ga06f919a6698c0dee4181200222e088c2">BK108X::getChannel</a></div><div class="ttdeci">uint16_t getChannel()</div><div class="ttdoc">Gets the current channel.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00607">BK108X.cpp:607</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a27aa705095a6b6dad7db24441132f9bd"><div class="ttname"><a href="_b_k108_x_8h.html#a27aa705095a6b6dad7db24441132f9bd">MODE_AM</a></div><div class="ttdeci">#define MODE_AM</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00048">BK108X.h:48</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga6c0f7231f5c0b02185f5f3ad847364a4"><div class="ttname"><a href="group___g_a04.html#ga6c0f7231f5c0b02185f5f3ad847364a4">BK108X::getRdsTime</a></div><div class="ttdeci">char * getRdsTime()</div><div class="ttdoc">Gets the RDS time and date when the Group type is 4.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01187">BK108X.cpp:1187</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gaa45a715a465a77143dc7d300d6a3192f"><div class="ttname"><a href="group___g_a04.html#gaa45a715a465a77143dc7d300d6a3192f">BK108X::getRdsText2A</a></div><div class="ttdeci">char * getRdsText2A(void)</div><div class="ttdoc">Gets the Text processed for the 2A group.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01167">BK108X.cpp:1167</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga00ccd956af8470ccc32a18b476dda0c2"><div class="ttname"><a href="group___g_a02.html#ga00ccd956af8470ccc32a18b476dda0c2">BK108X::i2cReceiveAck</a></div><div class="ttdeci">uint8_t i2cReceiveAck()</div><div class="ttdoc">Gets Acknowledge (ACK)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00136">BK108X.cpp:136</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_acc98e8d3badddd21bc528451bb718f82"><div class="ttname"><a href="_b_k108_x_8h.html#acc98e8d3badddd21bc528451bb718f82">MAX_SEEK_TIME</a></div><div class="ttdeci">#define MAX_SEEK_TIME</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00025">BK108X.h:25</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gaf3c1f7226ebb99d7b7aa2e0c58d166db"><div class="ttname"><a href="group___g_a02.html#gaf3c1f7226ebb99d7b7aa2e0c58d166db">BK108X::i2cAck</a></div><div class="ttdeci">void i2cAck()</div><div class="ttdoc">Sends Acknowledge (ACK)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00102">BK108X.cpp:102</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga62f9f2a5d84230b5f62be82d5514e86f"><div class="ttname"><a href="group___g_a03.html#ga62f9f2a5d84230b5f62be82d5514e86f">BK108X::setAudioMute</a></div><div class="ttdeci">void setAudioMute(bool value)</div><div class="ttdoc">Sets the Mute true or false.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00922">BK108X.cpp:922</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ac2446f96334b533154259a21c13950e6"><div class="ttname"><a href="_b_k108_x_8h.html#ac2446f96334b533154259a21c13950e6">REG03</a></div><div class="ttdeci">#define REG03</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00056">BK108X.h:56</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a5f9fe73f248fbeafb1a6abb1c92d578b"><div class="ttname"><a href="group___g_a01.html#a5f9fe73f248fbeafb1a6abb1c92d578b">BK108X::getDeviceId</a></div><div class="ttdeci">uint16_t getDeviceId()</div><div class="ttdoc">Returns the Device Indentifiction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00302">BK108X.cpp:302</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga378780ca51288b4cf94d6820704023fd"><div class="ttname"><a href="group___g_a03.html#ga378780ca51288b4cf94d6820704023fd">BK108X::getSnr</a></div><div class="ttdeci">int getSnr()</div><div class="ttdoc">Gets the current SNR.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00834">BK108X.cpp:834</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga964d94010afe620e87a01f347bc55196"><div class="ttname"><a href="group___g_a02.html#ga964d94010afe620e87a01f347bc55196">BK108X::i2cBeginTransaction</a></div><div class="ttdeci">void i2cBeginTransaction()</div><div class="ttdoc">Starts the I2C bus transaction</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00063">BK108X.cpp:63</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa3a8958cbfb9cac36c81ed9351b5b857"><div class="ttname"><a href="group___g_a03.html#gaa3a8958cbfb9cac36c81ed9351b5b857">BK108X::powerDown</a></div><div class="ttdeci">void powerDown()</div><div class="ttdoc">Powers the receiver off.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00424">BK108X.cpp:424</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a3f7e2fe33fd2114b91fa653ba3fb932b"><div class="ttname"><a href="_b_k108_x_8h.html#a3f7e2fe33fd2114b91fa653ba3fb932b">REG15</a></div><div class="ttdeci">#define REG15</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00074">BK108X.h:74</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga395af9273883205883c5ca87776877cd"><div class="ttname"><a href="group___g_a04.html#ga395af9273883205883c5ca87776877cd">BK108X::getNext4Block</a></div><div class="ttdeci">void getNext4Block(char *c)</div><div class="ttdoc">Process data received from group 2A.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01131">BK108X.cpp:1131</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaf7b86960d2bfd182600cb4a4308eb9ab"><div class="ttname"><a href="group___g_a03.html#gaf7b86960d2bfd182600cb4a4308eb9ab">BK108X::seekHardware</a></div><div class="ttdeci">void seekHardware(uint8_t seek_mode, uint8_t direction)</div><div class="ttdoc">Seeks a station via hardware functionality.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00718">BK108X.cpp:718</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a88dee04c27a51e335798ab012dccbea1"><div class="ttname"><a href="_b_k108_x_8h.html#a88dee04c27a51e335798ab012dccbea1">REG04</a></div><div class="ttdeci">#define REG04</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00057">BK108X.h:57</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gac0f7f0de2093cae7777d2bc5ee1b22b4"><div class="ttname"><a href="group___g_a03.html#gac0f7f0de2093cae7777d2bc5ee1b22b4">BK108X::getRealFrequency</a></div><div class="ttdeci">uint16_t getRealFrequency()</div><div class="ttdoc">Gets the frequency based on READCHAN register (0x0B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00631">BK108X.cpp:631</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a8928c3ceb92de4ff29e682dca2faa85e"><div class="ttname"><a href="_b_k108_x_8h.html#a8928c3ceb92de4ff29e682dca2faa85e">REG1B</a></div><div class="ttdeci">#define REG1B</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00080">BK108X.h:80</a></div></div>
<div class="ttc" id="agroup___g_a01_html_ab14e1e533462b60b82ff498dc15abbb1"><div class="ttname"><a href="group___g_a01.html#ab14e1e533462b60b82ff498dc15abbb1">BK108X::rdsInterruptPin</a></div><div class="ttdeci">int rdsInterruptPin</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00790">BK108X.h:790</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga514242393caa2068d8acb3adec953832"><div class="ttname"><a href="group___g_a03.html#ga514242393caa2068d8acb3adec953832">BK108X::setFrequency</a></div><div class="ttdeci">void setFrequency(uint16_t frequency)</div><div class="ttdoc">Sets the FM frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00548">BK108X.cpp:548</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a4bfd6b226ed1e9858b3c1e8fc0a4137e"><div class="ttname"><a href="_b_k108_x_8h.html#a4bfd6b226ed1e9858b3c1e8fc0a4137e">REG10</a></div><div class="ttdeci">#define REG10</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00069">BK108X.h:69</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gad8ecfa1da87d3ca51f735d7f921706bf"><div class="ttname"><a href="group___g_a03.html#gad8ecfa1da87d3ca51f735d7f921706bf">BK108X::getRssi</a></div><div class="ttdeci">int getRssi()</div><div class="ttdoc">Gets the current Rssi.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00822">BK108X.cpp:822</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a2c18d898fc24de24b8731e57c6a1924d"><div class="ttname"><a href="_b_k108_x_8h.html#a2c18d898fc24de24b8731e57c6a1924d">REG13</a></div><div class="ttdeci">#define REG13</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00072">BK108X.h:72</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a68b0bac67680a37773d972c470716a37"><div class="ttname"><a href="group___g_a01.html#a68b0bac67680a37773d972c470716a37">BK108X::seekInterruptPin</a></div><div class="ttdeci">int seekInterruptPin</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00791">BK108X.h:791</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga4693aebc8f2c479df966746d42374bf6"><div class="ttname"><a href="group___g_a04.html#ga4693aebc8f2c479df966746d42374bf6">BK108X::getRdsVersionCode</a></div><div class="ttdeci">uint8_t getRdsVersionCode(void)</div><div class="ttdoc">Gets the version code (extracted from the Block B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01097">BK108X.cpp:1097</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga2d2a246c4d65dfbf93b5660a500c74c3"><div class="ttname"><a href="group___g_a03.html#ga2d2a246c4d65dfbf93b5660a500c74c3">BK108X::setSeekThreshold</a></div><div class="ttdeci">void setSeekThreshold(uint8_t rssiValue, uint8_t snrValue)</div><div class="ttdoc">Sets RSSI and SNR Seek Threshold.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00755">BK108X.cpp:755</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga045825c54358c0bc1e741889a14a8a32"><div class="ttname"><a href="group___g_a04.html#ga045825c54358c0bc1e741889a14a8a32">BK108X::getRdsText0A</a></div><div class="ttdeci">char * getRdsText0A(void)</div><div class="ttdoc">Gets the station name and other messages.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01155">BK108X.cpp:1155</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga2d7a8606874d174e6fdb66d9ef602811"><div class="ttname"><a href="group___g_a02.html#ga2d7a8606874d174e6fdb66d9ef602811">BK108X::i2cReadByte</a></div><div class="ttdeci">uint8_t i2cReadByte()</div><div class="ttdoc">Gets a Byte from the slave device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00180">BK108X.cpp:180</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga0e3272d62ec11f91251569e422cd4c58"><div class="ttname"><a href="group___g_a03.html#ga0e3272d62ec11f91251569e422cd4c58">BK108X::setSpace</a></div><div class="ttdeci">void setSpace(uint8_t space=0)</div><div class="ttdoc">Sets the Space channel for AM or FM.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00805">BK108X.cpp:805</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga142c5b934ce9d95beb8e83278b622013"><div class="ttname"><a href="group___g_a03.html#ga142c5b934ce9d95beb8e83278b622013">BK108X::getRealChannel</a></div><div class="ttdeci">uint16_t getRealChannel()</div><div class="ttdoc">Gets the current channel stored in register 0x0B.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00618">BK108X.cpp:618</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gace7a6e83ef173bcf9e26b129df416c9c"><div class="ttname"><a href="group___g_a04.html#gace7a6e83ef173bcf9e26b129df416c9c">BK108X::getRdsSync</a></div><div class="ttdeci">bool getRdsSync()</div><div class="ttdoc">Get the Rds Sync.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01198">BK108X.cpp:1198</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga4b7e8a8515e5afecd46a18c0a4dfe023"><div class="ttname"><a href="group___g_a03.html#ga4b7e8a8515e5afecd46a18c0a4dfe023">BK108X::setSoftmuteAttenuation</a></div><div class="ttdeci">void setSoftmuteAttenuation(uint8_t value)</div><div class="ttdoc">Sets Softmute Attenuation.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00886">BK108X.cpp:886</a></div></div>
<div class="ttc" id="agroup___g_a01_html_a102d07b1523cf46434bb4434b7c70d60"><div class="ttname"><a href="group___g_a01.html#a102d07b1523cf46434bb4434b7c70d60">BK108X::getChipId</a></div><div class="ttdeci">uint16_t getChipId()</div><div class="ttdoc">Returns the Chip Indentifiction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00312">BK108X.cpp:312</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaff213081b782af8223279caf1488ef80"><div class="ttname"><a href="group___g_a03.html#gaff213081b782af8223279caf1488ef80">BK108X::getRegister</a></div><div class="ttdeci">uint16_t getRegister(uint8_t reg)</div><div class="ttdoc">Gets a givens current register content of the device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00271">BK108X.cpp:271</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa479240fcad272dc505ae50a6f4369d3"><div class="ttname"><a href="group___g_a03.html#gaa479240fcad272dc505ae50a6f4369d3">BK108X::setChannel</a></div><div class="ttdeci">void setChannel(uint16_t channel)</div><div class="ttdoc">Sets the channel.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00527">BK108X.cpp:527</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a2d697bfd5ba8d3203a00b1eb40b2bf0f"><div class="ttname"><a href="_b_k108_x_8h.html#a2d697bfd5ba8d3203a00b1eb40b2bf0f">REG17</a></div><div class="ttdeci">#define REG17</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00076">BK108X.h:76</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gaaa412587cacee78fdb6da296d97c9c74"><div class="ttname"><a href="group___g_a02.html#gaaa412587cacee78fdb6da296d97c9c74">BK108X::writeRegister</a></div><div class="ttdeci">void writeRegister(uint8_t reg, uint16_t vakue)</div><div class="ttdoc">Sends an array of values to a BK108X given register.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00207">BK108X.cpp:207</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a575b918902872d95be6588c9732fd8bd"><div class="ttname"><a href="_b_k108_x_8h.html#a575b918902872d95be6588c9732fd8bd">REG19</a></div><div class="ttdeci">#define REG19</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00078">BK108X.h:78</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga402613def6ec429dcdb25ebdd91404fc"><div class="ttname"><a href="group___g_a03.html#ga402613def6ec429dcdb25ebdd91404fc">BK108X::setAudioMute</a></div><div class="ttdeci">void setAudioMute(bool left, bool right)</div><div class="ttdoc">Sets the Mute true or false.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00909">BK108X.cpp:909</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gac2cf423a3eeee3213a3c7c73a8316f8a"><div class="ttname"><a href="group___g_a03.html#gac2cf423a3eeee3213a3c7c73a8316f8a">BK108X::setVolumeDown</a></div><div class="ttdeci">void setVolumeDown()</div><div class="ttdoc">Decrements the audio volume.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00999">BK108X.cpp:999</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga137b126f37f177a7c3928c5755d99757"><div class="ttname"><a href="group___g_a03.html#ga137b126f37f177a7c3928c5755d99757">BK108X::seekSoftware</a></div><div class="ttdeci">void seekSoftware(uint8_t seek_mode, uint8_t direction, void(*showFunc)()=NULL)</div><div class="ttdoc">Seeks a station via Software.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00676">BK108X.cpp:676</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga157dea83c3abb71f49124252a109a383"><div class="ttname"><a href="group___g_a03.html#ga157dea83c3abb71f49124252a109a383">BK108X::waitAndFinishTune</a></div><div class="ttdeci">void waitAndFinishTune()</div><div class="ttdoc">Wait STC (Seek/Tune Complete) status becomes 0.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00351">BK108X.cpp:351</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga9604c12896a554660d5cef45a1f8d940"><div class="ttname"><a href="group___g_a04.html#ga9604c12896a554660d5cef45a1f8d940">BK108X::getNext2Block</a></div><div class="ttdeci">void getNext2Block(char *c)</div><div class="ttdoc">Process data received from group 2B.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01119">BK108X.cpp:1119</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gadc619921201fc61cbba07be8e24b2aff"><div class="ttname"><a href="group___g_a03.html#gadc619921201fc61cbba07be8e24b2aff">BK108X::setSoftmute</a></div><div class="ttdeci">void setSoftmute(bool value)</div><div class="ttdoc">Sets the Softmute true or false.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00846">BK108X.cpp:846</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gade944541df0205f7a7bb6335ae25c211"><div class="ttname"><a href="group___g_a04.html#gade944541df0205f7a7bb6335ae25c211">BK108X::getRdsStatus</a></div><div class="ttdeci">void getRdsStatus()</div><div class="ttdoc">Gets the RDS registers information.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01022">BK108X.cpp:1022</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga91be125793a421bc17e2b25223b3a10a"><div class="ttname"><a href="group___g_a03.html#ga91be125793a421bc17e2b25223b3a10a">BK108X::getFrequency</a></div><div class="ttdeci">uint16_t getFrequency()</div><div class="ttdoc">Gets the current frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00597">BK108X.cpp:597</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gac0c265a916d7852d7e4977b1835098eb"><div class="ttname"><a href="group___g_a03.html#gac0c265a916d7852d7e4977b1835098eb">BK108X::setFrequencyUp</a></div><div class="ttdeci">void setFrequencyUp()</div><div class="ttdoc">Increments the current frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00567">BK108X.cpp:567</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gacc64d8615a589955d46dd6b09de73740"><div class="ttname"><a href="group___g_a03.html#gacc64d8615a589955d46dd6b09de73740">BK108X::setSoftmuteAttack</a></div><div class="ttdeci">void setSoftmuteAttack(uint8_t value)</div><div class="ttdoc">Sets Softmute Attack/Recover Rate.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00867">BK108X.cpp:867</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a96ac68e41626933b41138548318e052b"><div class="ttname"><a href="_b_k108_x_8h.html#a96ac68e41626933b41138548318e052b">REG11</a></div><div class="ttdeci">#define REG11</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00070">BK108X.h:70</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga0479b36a2d6558df557a3ba4a0d07ce2"><div class="ttname"><a href="group___g_a03.html#ga0479b36a2d6558df557a3ba4a0d07ce2">BK108X::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Resets the device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00367">BK108X.cpp:367</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga8dafdca0cc93acecacfd3231af8aba1e"><div class="ttname"><a href="group___g_a04.html#ga8dafdca0cc93acecacfd3231af8aba1e">BK108X::getRdsProgramType</a></div><div class="ttdeci">uint8_t getRdsProgramType(void)</div><div class="ttdoc">Returns the Program Type (extracted from the Block B)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01108">BK108X.cpp:1108</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gaa91f9b57fb80f9411f97755d15e7d808"><div class="ttname"><a href="group___g_a03.html#gaa91f9b57fb80f9411f97755d15e7d808">BK108X::setVolume</a></div><div class="ttdeci">void setVolume(uint8_t value)</div><div class="ttdoc">Sets the audio volume level.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00959">BK108X.cpp:959</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a615ce0ebc819ed8ea5f84d81e9d3c707"><div class="ttname"><a href="_b_k108_x_8h.html#a615ce0ebc819ed8ea5f84d81e9d3c707">REG1C</a></div><div class="ttdeci">#define REG1C</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00081">BK108X.h:81</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a48be4d4aa3bde15da7a8145c0f64fd7f"><div class="ttname"><a href="_b_k108_x_8h.html#a48be4d4aa3bde15da7a8145c0f64fd7f">REG09</a></div><div class="ttdeci">#define REG09</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00062">BK108X.h:62</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_afc04faecdab9e0d1751466b6c53fdaf1"><div class="ttname"><a href="_b_k108_x_8h.html#afc04faecdab9e0d1751466b6c53fdaf1">REG01</a></div><div class="ttdeci">#define REG01</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00054">BK108X.h:54</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga8be7187079334991c12934087e7d826c"><div class="ttname"><a href="group___g_a04.html#ga8be7187079334991c12934087e7d826c">BK108X::getRdsFlagAB</a></div><div class="ttdeci">uint8_t getRdsFlagAB(void)</div><div class="ttdoc">Returns the current Text Flag A/B</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01075">BK108X.cpp:1075</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a06bf525972f7b47f7683a0c37cfb2a70"><div class="ttname"><a href="_b_k108_x_8h.html#a06bf525972f7b47f7683a0c37cfb2a70">REG12</a></div><div class="ttdeci">#define REG12</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00071">BK108X.h:71</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a76c73d8e23848f8d73679450c2d7264b"><div class="ttname"><a href="_b_k108_x_8h.html#a76c73d8e23848f8d73679450c2d7264b">REG0B</a></div><div class="ttdeci">#define REG0B</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00064">BK108X.h:64</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gacdabf4e7e5c7ef78bf51710122daa618"><div class="ttname"><a href="group___g_a03.html#gacdabf4e7e5c7ef78bf51710122daa618">BK108X::powerUp</a></div><div class="ttdeci">void powerUp()</div><div class="ttdoc">Powers the receiver on.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00382">BK108X.cpp:382</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gab8dba059205a7d118c0153db8636fdb8"><div class="ttname"><a href="group___g_a03.html#gab8dba059205a7d118c0153db8636fdb8">BK108X::getVolume</a></div><div class="ttdeci">uint8_t getVolume()</div><div class="ttdoc">Gets the current audio volume level.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00975">BK108X.cpp:975</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga8d1b082b77d8b0cc7c0e6cb5cb489c80"><div class="ttname"><a href="group___g_a03.html#ga8d1b082b77d8b0cc7c0e6cb5cb489c80">BK108X::setup</a></div><div class="ttdeci">void setup(int sda_pin, int sclk_pin, int rdsInterruptPin=-1, int seekInterruptPin=-1, uint8_t oscillator_type=OSCILLATOR_TYPE_CRYSTAL)</div><div class="ttdoc">Starts the device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00441">BK108X.cpp:441</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a5ec596211175cecd682755f5e996b6dd"><div class="ttname"><a href="_b_k108_x_8h.html#a5ec596211175cecd682755f5e996b6dd">REG0A</a></div><div class="ttdeci">#define REG0A</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00063">BK108X.h:63</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a46befaec21d3091b4530cdf8a6f93c55"><div class="ttname"><a href="_b_k108_x_8h.html#a46befaec21d3091b4530cdf8a6f93c55">MODE_FM</a></div><div class="ttdeci">#define MODE_FM</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00047">BK108X.h:47</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a748ad53bef975af9c1edbcacc58e5be4"><div class="ttname"><a href="_b_k108_x_8h.html#a748ad53bef975af9c1edbcacc58e5be4">REG00</a></div><div class="ttdeci">#define REG00</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00053">BK108X.h:53</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga5bf724e36f2dbdc826c387601e00ace1"><div class="ttname"><a href="group___g_a03.html#ga5bf724e36f2dbdc826c387601e00ace1">BK108X::setFrequencyDown</a></div><div class="ttdeci">void setFrequencyDown()</div><div class="ttdoc">Decrements the current frequency.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00582">BK108X.cpp:582</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a7f2f605c029c5c96fb06ecca2933dc67"><div class="ttname"><a href="_b_k108_x_8h.html#a7f2f605c029c5c96fb06ecca2933dc67">REG16</a></div><div class="ttdeci">#define REG16</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00075">BK108X.h:75</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gab7987984a7302ba985689c6cec95f833"><div class="ttname"><a href="group___g_a02.html#gab7987984a7302ba985689c6cec95f833">BK108X::i2cNack</a></div><div class="ttdeci">void i2cNack()</div><div class="ttdoc">Sends Not Acknowledge (ACK)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00118">BK108X.cpp:118</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gadb237cc8ad191804af5de514a5610fd9"><div class="ttname"><a href="group___g_a04.html#gadb237cc8ad191804af5de514a5610fd9">BK108X::setRdsMode</a></div><div class="ttdeci">void setRdsMode(uint8_t rds_mode=0)</div><div class="ttdoc">Sets the Rds Mode Standard or Verbose.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01033">BK108X.cpp:1033</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a5eeaea32c870a31999643b68ba6c9cdb"><div class="ttname"><a href="_b_k108_x_8h.html#a5eeaea32c870a31999643b68ba6c9cdb">REG1A</a></div><div class="ttdeci">#define REG1A</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00079">BK108X.h:79</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga759a835f25ca7ce2c861cc5b3cf1abb8"><div class="ttname"><a href="group___g_a03.html#ga759a835f25ca7ce2c861cc5b3cf1abb8">BK108X::getStatus</a></div><div class="ttdeci">bk_reg0a getStatus()</div><div class="ttdoc">Gets the current status (register 0x0A) content.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00336">BK108X.cpp:336</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga88ee370deb58d65deee0e8e159507758"><div class="ttname"><a href="group___g_a04.html#ga88ee370deb58d65deee0e8e159507758">BK108X::getRdsGroupType</a></div><div class="ttdeci">uint16_t getRdsGroupType()</div><div class="ttdoc">Return the group type.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01086">BK108X.cpp:1086</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a848ac333ddfea97bc1f16a2e69eaf953"><div class="ttname"><a href="_b_k108_x_8h.html#a848ac333ddfea97bc1f16a2e69eaf953">REG05</a></div><div class="ttdeci">#define REG05</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00058">BK108X.h:58</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga2f9f668c6a689276d486fe0c0871086c"><div class="ttname"><a href="group___g_a04.html#ga2f9f668c6a689276d486fe0c0871086c">BK108X::getRdsText2B</a></div><div class="ttdeci">char * getRdsText2B(void)</div><div class="ttdoc">Gets the Text processed for the 2B group.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01177">BK108X.cpp:1177</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a2a41df49654ae321f569bfabfa74de24"><div class="ttname"><a href="_b_k108_x_8h.html#a2a41df49654ae321f569bfabfa74de24">REG07</a></div><div class="ttdeci">#define REG07</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00060">BK108X.h:60</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga334ccbe40fcb5faa9e045288ca606f89"><div class="ttname"><a href="group___g_a03.html#ga334ccbe40fcb5faa9e045288ca606f89">BK108X::setAM</a></div><div class="ttdeci">void setAM(uint16_t minimum_frequency, uint16_t maximum_frequency, uint16_t default_frequency, uint16_t step, uint16_t am_space=0)</div><div class="ttdoc">Sets the receiver to AM mode.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00495">BK108X.cpp:495</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gabc3b9000cc833cfbec7cf1edc03ef674"><div class="ttname"><a href="group___g_a03.html#gabc3b9000cc833cfbec7cf1edc03ef674">BK108X::setMono</a></div><div class="ttdeci">void setMono(bool value)</div><div class="ttdoc">Sets the Mono true or false (stereo)</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00933">BK108X.cpp:933</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga9a1baa9e95b4c25a6bb7cfb00baebfbd"><div class="ttname"><a href="group___g_a02.html#ga9a1baa9e95b4c25a6bb7cfb00baebfbd">BK108X::i2cEndTransaction</a></div><div class="ttdeci">void i2cEndTransaction()</div><div class="ttdoc">Finish the I2C bus transaction.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00082">BK108X.cpp:82</a></div></div>
<div class="ttc" id="agroup___g_a02_html_gabb521f2af588ce1c94755bd2525f32c9"><div class="ttname"><a href="group___g_a02.html#gabb521f2af588ce1c94755bd2525f32c9">BK108X::setI2C</a></div><div class="ttdeci">void setI2C(uint8_t i2c_addr=I2C_DEVICE_ADDR)</div><div class="ttdoc">Sets I2C bus address.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00042">BK108X.cpp:42</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_ac5641e8e0c3254714bcd533a4b0111ca"><div class="ttname"><a href="_b_k108_x_8h.html#ac5641e8e0c3254714bcd533a4b0111ca">REG06</a></div><div class="ttdeci">#define REG06</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00059">BK108X.h:59</a></div></div>
<div class="ttc" id="agroup___g_a04_html_gadc61ebb78e49b6bfc9aa6eadc98363a5"><div class="ttname"><a href="group___g_a04.html#gadc61ebb78e49b6bfc9aa6eadc98363a5">BK108X::setRds</a></div><div class="ttdeci">void setRds(bool value)</div><div class="ttdoc">Sets the RDS operation.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01045">BK108X.cpp:1045</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a936c7bd27b99a90769f93ec3f004b3e0"><div class="ttname"><a href="_b_k108_x_8h.html#a936c7bd27b99a90769f93ec3f004b3e0">REG1D</a></div><div class="ttdeci">#define REG1D</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00082">BK108X.h:82</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga89438602c507ba477aaa626999210b7e"><div class="ttname"><a href="group___g_a03.html#ga89438602c507ba477aaa626999210b7e">BK108X::setVolumeUp</a></div><div class="ttdeci">void setVolumeUp()</div><div class="ttdoc">Increments the audio volume.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00985">BK108X.cpp:985</a></div></div>
<div class="ttc" id="a_b_k108_x_8h_html_a09a3d3fef9f53f0dbe1dd0072f02c1d4"><div class="ttname"><a href="_b_k108_x_8h.html#a09a3d3fef9f53f0dbe1dd0072f02c1d4">REG02</a></div><div class="ttdeci">#define REG02</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8h_source.html#l00055">BK108X.h:55</a></div></div>
<div class="ttc" id="agroup___g_a03_html_ga8c11bdd0e24365b242a9929238195a58"><div class="ttname"><a href="group___g_a03.html#ga8c11bdd0e24365b242a9929238195a58">BK108X::setAgc</a></div><div class="ttdeci">void setAgc(bool value)</div><div class="ttdoc">Sets the AGC enable or disable.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00897">BK108X.cpp:897</a></div></div>
<div class="ttc" id="agroup___g_a03_html_gadc64097823fe26425a420270562cfc34"><div class="ttname"><a href="group___g_a03.html#gadc64097823fe26425a420270562cfc34">BK108X::setRegister</a></div><div class="ttdeci">void setRegister(uint8_t reg, uint16_t value)</div><div class="ttdoc">Sets a given value to the device registers.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00291">BK108X.cpp:291</a></div></div>
<div class="ttc" id="agroup___g_a02_html_ga9f97140ef586e3fbf52b482bfae94d9c"><div class="ttname"><a href="group___g_a02.html#ga9f97140ef586e3fbf52b482bfae94d9c">BK108X::i2cWriteByte</a></div><div class="ttdeci">void i2cWriteByte(uint8_t data)</div><div class="ttdoc">Sends a Byte to the slave device.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l00158">BK108X.cpp:158</a></div></div>
<div class="ttc" id="agroup___g_a04_html_ga1fb9b7d09968c248624c9c9c3aa3b307"><div class="ttname"><a href="group___g_a04.html#ga1fb9b7d09968c248624c9c9c3aa3b307">BK108X::getRdsReady</a></div><div class="ttdeci">bool getRdsReady()</div><div class="ttdoc">Returns true if RDS Ready.</div><div class="ttdef"><b>Definition:</b> <a href="_b_k108_x_8cpp_source.html#l01062">BK108X.cpp:1062</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_22ccd63b32a12b0c19294f50e69a6f91.html">BK108X</a></li><li class="navelem"><a class="el" href="_b_k108_x_8cpp.html">BK108X.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
